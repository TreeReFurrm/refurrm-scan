(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41705,(e,t,n)=>{"use strict";n._=function(e){return e&&e.__esModule?e:{default:e}}},13584,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"HeadManagerContext",{enumerable:!0,get:function(){return r}});let r=e.r(41705)._(e.r(91788)).default.createContext({})},94470,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},52456,(e,t,n)=>{"use strict";function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}n._=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(s,i,o):s[i]=e[i]}return s.default=e,n&&n.set(e,s),s}},89129,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={DecodeError:function(){return h},MiddlewareNotFoundError:function(){return j},MissingStaticPage:function(){return y},NormalizeError:function(){return v},PageNotFoundError:function(){return b},SP:function(){return g},ST:function(){return x},WEB_VITALS:function(){return a},execOnce:function(){return i},getDisplayName:function(){return c},getLocationOrigin:function(){return d},getURL:function(){return u},isAbsoluteUrl:function(){return l},isResSent:function(){return f},loadGetInitialProps:function(){return p},normalizeRepeatedSlashes:function(){return m},stringifyError:function(){return N}};for(var s in r)Object.defineProperty(n,s,{enumerable:!0,get:r[s]});let a=["CLS","FCP","FID","INP","LCP","TTFB"];function i(e){let t,n=!1;return(...r)=>(n||(n=!0,t=e(...r)),t)}let o=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>o.test(e);function d(){let{protocol:e,hostname:t,port:n}=window.location;return`${e}//${t}${n?":"+n:""}`}function u(){let{href:e}=window.location,t=d();return e.substring(t.length)}function c(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function f(e){return e.finished||e.headersSent}function m(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function p(e,t){let n=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await p(t.Component,t.ctx)}:{};let r=await e.getInitialProps(t);if(n&&f(n))return r;if(!r)throw Object.defineProperty(Error(`"${c(e)}.getInitialProps()" should resolve to an object. But found "${r}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return r}let g="undefined"!=typeof performance,x=g&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class h extends Error{}class v extends Error{}class b extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class y extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class j extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function N(e){return JSON.stringify({message:e.message,stack:e.stack})}},83127,e=>{"use strict";let t={id:"local-user",email:"demo@refurrm.test",user_metadata:{full_name:"ReFurrm Tester",role:"family"}};e.s(["supabase",0,{auth:{getSession:async()=>({data:{session:{user:t}},error:null}),getUser:async()=>({data:{user:t},error:null}),signUp:async()=>({data:{user:t},error:null}),signInWithPassword:async()=>({data:{session:{user:t}},error:null}),signOut:async()=>({error:null}),onAuthStateChange:e=>(e("INITIAL",{user:t}),{data:{subscription:{unsubscribe:()=>{}}}})},functions:{invoke:async()=>({data:null,error:null})},from:e=>{var t;let n;return n={data:t=[],error:null,select:()=>n,eq:()=>n,order:()=>n,limit:()=>n,single:async()=>({data:Array.isArray(t)?t[0]??null:t,error:null}),insert:async()=>({data:null,error:null}),update:()=>({eq:async()=>({data:null,error:null})}),then:e=>e({data:t,error:null})}}}])},17549,e=>{"use strict";var t=e.i(91788);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var r=e.i(91398);function s(e){var s;let a,i=(s=e,(a=t.forwardRef((e,r)=>{let{children:s,...a}=e;if(t.isValidElement(s)){var i;let e,o,l=(i=s,(o=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(o=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),d=function(e,t){let n={...t};for(let r in t){let s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...e)=>{let t=a(...e);return s(...e),t}:s&&(n[r]=s):"style"===r?n[r]={...s,...a}:"className"===r&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}(a,s.props);return s.type!==t.Fragment&&(d.ref=r?function(...e){return t=>{let r=!1,s=e.map(e=>{let s=n(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():n(e[t],null)}}}}(r,l):l),t.cloneElement(s,d)}return t.Children.count(s)>1?t.Children.only(null):null})).displayName=`${s}.SlotClone`,a),l=t.forwardRef((e,n)=>{let{children:s,...a}=e,l=t.Children.toArray(s),d=l.find(o);if(d){let e=d.props.children,s=l.map(n=>n!==d?n:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,r.jsx)(i,{...a,ref:n,children:t.isValidElement(e)?t.cloneElement(e,void 0,s):null})}return(0,r.jsx)(i,{...a,ref:n,children:s})});return l.displayName=`${e}.Slot`,l}var a=s("Slot"),i=Symbol("radix.slottable");function o(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===i}e.s(["Slot",()=>a,"createSlot",()=>s],17549)},68462,e=>{"use strict";let t=(0,e.i(69547).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],68462)},49577,e=>{"use strict";var t=e.i(91788),n=e.i(74534),r=e.i(91398),s=t.forwardRef((e,t)=>(0,r.jsx)(n.Primitive.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));s.displayName="VisuallyHidden",e.s(["Root",()=>s,"VisuallyHidden",()=>s])},83337,e=>{"use strict";var t=e.i(91398),n=e.i(91788),r=e.i(94053),s=e.i(70084),a=e.i(18324),i=e.i(10710),o=e.i(86547);let l=r.Root;r.Group;let d=r.Value,u=n.forwardRef(({className:e,children:n,...s},i)=>(0,t.jsxs)(r.Trigger,{ref:i,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[n,(0,t.jsx)(r.Icon,{asChild:!0,children:(0,t.jsx)(a.ChevronDown,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=r.Trigger.displayName;let c=n.forwardRef(({className:e,...n},s)=>(0,t.jsx)(r.ScrollUpButton,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...n,children:(0,t.jsx)(i.ChevronUp,{className:"h-4 w-4"})}));c.displayName=r.ScrollUpButton.displayName;let f=n.forwardRef(({className:e,...n},s)=>(0,t.jsx)(r.ScrollDownButton,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...n,children:(0,t.jsx)(a.ChevronDown,{className:"h-4 w-4"})}));f.displayName=r.ScrollDownButton.displayName;let m=n.forwardRef(({className:e,children:n,position:s="popper",...a},i)=>(0,t.jsx)(r.Portal,{children:(0,t.jsxs)(r.Content,{ref:i,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...a,children:[(0,t.jsx)(c,{}),(0,t.jsx)(r.Viewport,{className:(0,o.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,t.jsx)(f,{})]})}));m.displayName=r.Content.displayName,n.forwardRef(({className:e,...n},s)=>(0,t.jsx)(r.Label,{ref:s,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...n})).displayName=r.Label.displayName;let p=n.forwardRef(({className:e,children:n,...a},i)=>(0,t.jsxs)(r.Item,{ref:i,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(r.ItemIndicator,{children:(0,t.jsx)(s.Check,{className:"h-4 w-4"})})}),(0,t.jsx)(r.ItemText,{children:n})]}));p.displayName=r.Item.displayName,n.forwardRef(({className:e,...n},s)=>(0,t.jsx)(r.Separator,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...n})).displayName=r.Separator.displayName,e.s(["Select",()=>l,"SelectContent",()=>m,"SelectItem",()=>p,"SelectTrigger",()=>u,"SelectValue",()=>d])},35598,e=>{"use strict";let t,n,r;var s,a,i=e.i(91788);function o(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}function l(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function d(...e){return i.useCallback(function(...e){return t=>{let n=!1,r=e.map(e=>{let r=l(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){let n=r[t];"function"==typeof n?n():l(e[t],null)}}}}(...e),e)}"undefined"!=typeof window&&window.document&&window.document.createElement;var u=e.i(91398),c=globalThis?.document?i.useLayoutEffect:()=>{},f=i[" useId ".trim().toString()]||(()=>void 0),m=0;function p(e){let[t,n]=i.useState(f());return c(()=>{e||n(e=>e??String(m++))},[e]),e||(t?`radix-${t}`:"")}globalThis?.document&&i.useLayoutEffect,i[" useEffectEvent ".trim().toString()],i[" useInsertionEffect ".trim().toString()];var g=i[" useInsertionEffect ".trim().toString()]||c;function x(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}Symbol("RADIX:SYNC_STATE"),"undefined"!=typeof window&&window.document&&window.document.createElement;var h=e.i(30943),v=e.i(17549),b=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let n=(0,v.createSlot)(`Primitive.${t}`),r=i.forwardRef((e,r)=>{let{asChild:s,...a}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,u.jsx)(s?n:t,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function y(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function j(...e){return i.useCallback(function(...e){return t=>{let n=!1,r=e.map(e=>{let r=y(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){let n=r[t];"function"==typeof n?n():y(e[t],null)}}}}(...e),e)}function N(e){let t=i.useRef(e);return i.useEffect(()=>{t.current=e}),i.useMemo(()=>(...e)=>t.current?.(...e),[])}var w="dismissableLayer.update",E=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),S=i.forwardRef((e,t)=>{let{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:d,...c}=e,f=i.useContext(E),[m,p]=i.useState(null),g=m?.ownerDocument??globalThis?.document,[,h]=i.useState({}),v=j(t,e=>p(e)),y=Array.from(f.layers),[S]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),T=y.indexOf(S),P=m?y.indexOf(m):-1,O=f.layersWithOutsidePointerEventsDisabled.size>0,R=P>=T,D=function(e,t=globalThis?.document){let n=N(e),r=i.useRef(!1),s=i.useRef(()=>{});return i.useEffect(()=>{let e=e=>{if(e.target&&!r.current){let r=function(){C("dismissableLayer.pointerDownOutside",n,a,{discrete:!0})},a={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",s.current),s.current=r,t.addEventListener("click",s.current,{once:!0})):r()}else t.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",e),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}(e=>{let t=e.target,n=[...f.branches].some(e=>e.contains(t));R&&!n&&(s?.(e),l?.(e),e.defaultPrevented||d?.())},g),I=function(e,t=globalThis?.document){let n=N(e),r=i.useRef(!1);return i.useEffect(()=>{let e=e=>{e.target&&!r.current&&C("dismissableLayer.focusOutside",n,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}(e=>{let t=e.target;![...f.branches].some(e=>e.contains(t))&&(o?.(e),l?.(e),e.defaultPrevented||d?.())},g);return!function(e,t=globalThis?.document){let n,r=(n=i.useRef(e),i.useEffect(()=>{n.current=e}),i.useMemo(()=>(...e)=>n.current?.(...e),[]));i.useEffect(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}(e=>{P===f.layers.size-1&&(r?.(e),!e.defaultPrevented&&d&&(e.preventDefault(),d()))},g),i.useEffect(()=>{if(m)return n&&(0===f.layersWithOutsidePointerEventsDisabled.size&&(a=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),_(),()=>{n&&1===f.layersWithOutsidePointerEventsDisabled.size&&(g.body.style.pointerEvents=a)}},[m,g,n,f]),i.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),_())},[m,f]),i.useEffect(()=>{let e=()=>h({});return document.addEventListener(w,e),()=>document.removeEventListener(w,e)},[]),(0,u.jsx)(b.div,{...c,ref:v,style:{pointerEvents:O?R?"auto":"none":void 0,...e.style},onFocusCapture:x(e.onFocusCapture,I.onFocusCapture),onBlurCapture:x(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:x(e.onPointerDownCapture,D.onPointerDownCapture)})});function _(){let e=new CustomEvent(w);document.dispatchEvent(e)}function C(e,t,n,{discrete:r}){let s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});if(t&&s.addEventListener(e,t,{once:!0}),r)s&&h.flushSync(()=>s.dispatchEvent(a));else s.dispatchEvent(a)}function T(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}S.displayName="DismissableLayer",i.forwardRef((e,t)=>{let n=i.useContext(E),r=i.useRef(null),s=j(t,r);return i.useEffect(()=>{let e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),(0,u.jsx)(b.div,{...e,ref:s})}).displayName="DismissableLayerBranch";var P=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let n=(0,v.createSlot)(`Primitive.${t}`),r=i.forwardRef((e,r)=>{let{asChild:s,...a}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,u.jsx)(s?n:t,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function O(e){let t=i.useRef(e);return i.useEffect(()=>{t.current=e}),i.useMemo(()=>(...e)=>t.current?.(...e),[])}var R="focusScope.autoFocusOnMount",D="focusScope.autoFocusOnUnmount",I={bubbles:!1,cancelable:!0},A=i.forwardRef((e,t)=>{let{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,d]=i.useState(null),c=O(s),f=O(a),m=i.useRef(null),p=function(...e){return i.useCallback(function(...e){return t=>{let n=!1,r=e.map(e=>{let r=T(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){let n=r[t];"function"==typeof n?n():T(e[t],null)}}}}(...e),e)}(t,e=>d(e)),g=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(r){let e=function(e){if(g.paused||!l)return;let t=e.target;l.contains(t)?m.current=t:L(m.current,{select:!0})},t=function(e){if(g.paused||!l)return;let t=e.relatedTarget;null!==t&&(l.contains(t)||L(m.current,{select:!0}))};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let n=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&L(l)});return l&&n.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[r,l,g.paused]),i.useEffect(()=>{if(l){M.add(g);let e=document.activeElement;if(!l.contains(e)){let t=new CustomEvent(R,I);l.addEventListener(R,c),l.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let n=document.activeElement;for(let r of e)if(L(r,{select:t}),document.activeElement!==n)return}(k(l).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&L(l))}return()=>{l.removeEventListener(R,c),setTimeout(()=>{let t=new CustomEvent(D,I);l.addEventListener(D,f),l.dispatchEvent(t),t.defaultPrevented||L(e??document.body,{select:!0}),l.removeEventListener(D,f),M.remove(g)},0)}}},[l,c,f,g]);let x=i.useCallback(e=>{if(!n&&!r||g.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,s=document.activeElement;if(t&&s){var a;let t,r=e.currentTarget,[i,o]=[F(t=k(a=r),a),F(t.reverse(),a)];i&&o?e.shiftKey||s!==o?e.shiftKey&&s===i&&(e.preventDefault(),n&&L(o,{select:!0})):(e.preventDefault(),n&&L(i,{select:!0})):s===r&&e.preventDefault()}},[n,r,g.paused]);return(0,u.jsx)(P.div,{tabIndex:-1,...o,ref:p,onKeyDown:x})});function k(e){let t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function F(e,t){for(let n of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(n,{upTo:t}))return n}function L(e,{select:t=!1}={}){if(e&&e.focus){var n;let r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&(n=e)instanceof HTMLInputElement&&"select"in n&&t&&e.select()}}A.displayName="FocusScope";var M=(r=[],{add(e){let t=r[0];e!==t&&t?.pause(),(r=U(r,e)).unshift(e)},remove(e){r=U(r,e),r[0]?.resume()}});function U(e,t){let n=[...e],r=n.indexOf(t);return -1!==r&&n.splice(r,1),n}var $=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let n=(0,v.createSlot)(`Primitive.${t}`),r=i.forwardRef((e,r)=>{let{asChild:s,...a}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,u.jsx)(s?n:t,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),B=globalThis?.document?i.useLayoutEffect:()=>{},V=i.forwardRef((e,t)=>{let{container:n,...r}=e,[s,a]=i.useState(!1);B(()=>a(!0),[]);let o=n||s&&globalThis?.document?.body;return o?h.default.createPortal((0,u.jsx)($.div,{...r,ref:t}),o):null});V.displayName="Portal";var W=e=>{var t;let n,r,{present:s,children:a}=e,o=function(e){var t,n;let[r,s]=i.useState(),a=i.useRef(null),o=i.useRef(e),l=i.useRef("none"),[d,u]=(t=e?"mounted":"unmounted",n={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},i.useReducer((e,t)=>n[e][t]??e,t));return i.useEffect(()=>{let e=z(a.current);l.current="mounted"===d?e:"none"},[d]),c(()=>{let t=a.current,n=o.current;if(n!==e){let r=l.current,s=z(t);e?u("MOUNT"):"none"===s||t?.display==="none"?u("UNMOUNT"):n&&r!==s?u("ANIMATION_OUT"):u("UNMOUNT"),o.current=e}},[e,u]),c(()=>{if(r){let e,t=r.ownerDocument.defaultView??window,n=n=>{let s=z(a.current).includes(CSS.escape(n.animationName));if(n.target===r&&s&&(u("ANIMATION_END"),!o.current)){let n=r.style.animationFillMode;r.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===r.style.animationFillMode&&(r.style.animationFillMode=n)})}},s=e=>{e.target===r&&(l.current=z(a.current))};return r.addEventListener("animationstart",s),r.addEventListener("animationcancel",n),r.addEventListener("animationend",n),()=>{t.clearTimeout(e),r.removeEventListener("animationstart",s),r.removeEventListener("animationcancel",n),r.removeEventListener("animationend",n)}}u("ANIMATION_END")},[r,u]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:i.useCallback(e=>{a.current=e?getComputedStyle(e):null,s(e)},[])}}(s),l="function"==typeof a?a({present:o.isPresent}):i.Children.only(a),u=d(o.ref,(t=l,(r=(n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof a||o.isPresent?i.cloneElement(l,{ref:u}):null};function z(e){return e?.animationName||"none"}W.displayName="Presence";var q=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let n=(0,v.createSlot)(`Primitive.${t}`),r=i.forwardRef((e,r)=>{let{asChild:s,...a}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,u.jsx)(s?n:t,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),K=0;function H(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var X=e.i(65823),Z=e.i(69131),G="Dialog",[Y,J]=function(e,t=[]){let n=[],r=()=>{let t=n.map(e=>i.createContext(e));return function(n){let r=n?.[e]||t;return i.useMemo(()=>({[`__scope${e}`]:{...n,[e]:r}}),[n,r])}};return r.scopeName=e,[function(t,r){let s=i.createContext(r),a=n.length;n=[...n,r];let o=t=>{let{scope:n,children:r,...o}=t,l=n?.[e]?.[a]||s,d=i.useMemo(()=>o,Object.values(o));return(0,u.jsx)(l.Provider,{value:d,children:r})};return o.displayName=t+"Provider",[o,function(n,o){let l=o?.[e]?.[a]||s,d=i.useContext(l);if(d)return d;if(void 0!==r)return r;throw Error(`\`${n}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=n.reduce((t,{useScope:n,scopeName:r})=>{let s=n(e)[`__scope${r}`];return{...t,...s}},{});return i.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}(r,...t)]}(G),[Q,ee]=Y(G),et=e=>{let{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=i.useRef(null),d=i.useRef(null),[c,f]=function({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){let[s,a,o]=function({defaultProp:e,onChange:t}){let[n,r]=i.useState(e),s=i.useRef(n),a=i.useRef(t);return g(()=>{a.current=t},[t]),i.useEffect(()=>{s.current!==n&&(a.current?.(n),s.current=n)},[n,s]),[n,r,a]}({defaultProp:t,onChange:n}),l=void 0!==e,d=l?e:s;{let t=i.useRef(void 0!==e);i.useEffect(()=>{let e=t.current;if(e!==l){let t=l?"controlled":"uncontrolled";console.warn(`${r} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=l},[l,r])}return[d,i.useCallback(t=>{if(l){let n="function"==typeof t?t(e):t;n!==e&&o.current?.(n)}else a(t)},[l,e,a,o])]}({prop:r,defaultProp:s??!1,onChange:a,caller:G});return(0,u.jsx)(Q,{scope:t,triggerRef:l,contentRef:d,contentId:p(),titleId:p(),descriptionId:p(),open:c,onOpenChange:f,onOpenToggle:i.useCallback(()=>f(e=>!e),[f]),modal:o,children:n})};et.displayName=G;var en="DialogTrigger",er=i.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,s=ee(en,n),a=d(t,s.triggerRef);return(0,u.jsx)(q.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ew(s.open),...r,ref:a,onClick:o(e.onClick,s.onOpenToggle)})});er.displayName=en;var es="DialogPortal",[ea,ei]=Y(es,{forceMount:void 0}),eo=e=>{let{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=ee(es,t);return(0,u.jsx)(ea,{scope:t,forceMount:n,children:i.Children.map(r,e=>(0,u.jsx)(W,{present:n||a.open,children:(0,u.jsx)(V,{asChild:!0,container:s,children:e})}))})};eo.displayName=es;var el="DialogOverlay",ed=i.forwardRef((e,t)=>{let n=ei(el,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=ee(el,e.__scopeDialog);return a.modal?(0,u.jsx)(W,{present:r||a.open,children:(0,u.jsx)(ec,{...s,ref:t})}):null});ed.displayName=el;var eu=(0,v.createSlot)("DialogOverlay.RemoveScroll"),ec=i.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,s=ee(el,n);return(0,u.jsx)(X.RemoveScroll,{as:eu,allowPinchZoom:!0,shards:[s.contentRef],children:(0,u.jsx)(q.div,{"data-state":ew(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ef="DialogContent",em=i.forwardRef((e,t)=>{let n=ei(ef,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=ee(ef,e.__scopeDialog);return(0,u.jsx)(W,{present:r||a.open,children:a.modal?(0,u.jsx)(ep,{...s,ref:t}):(0,u.jsx)(eg,{...s,ref:t})})});em.displayName=ef;var ep=i.forwardRef((e,t)=>{let n=ee(ef,e.__scopeDialog),r=i.useRef(null),s=d(t,n.contentRef,r);return i.useEffect(()=>{let e=r.current;if(e)return(0,Z.hideOthers)(e)},[]),(0,u.jsx)(ex,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:o(e.onCloseAutoFocus,e=>{e.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:o(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:o(e.onFocusOutside,e=>e.preventDefault())})}),eg=i.forwardRef((e,t)=>{let n=ee(ef,e.__scopeDialog),r=i.useRef(!1),s=i.useRef(!1);return(0,u.jsx)(ex,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||n.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(s.current=!0));let a=t.target;n.triggerRef.current?.contains(a)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}})}),ex=i.forwardRef((e,t)=>{let{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=ee(ef,n),c=i.useRef(null),f=d(t,c);return i.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??H()),document.body.insertAdjacentElement("beforeend",e[1]??H()),K++,()=>{1===K&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),K--}},[]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(A,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:(0,u.jsx)(S,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":ew(l.open),...o,ref:f,onDismiss:()=>l.onOpenChange(!1)})}),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(eC,{titleId:l.titleId}),(0,u.jsx)(eT,{contentRef:c,descriptionId:l.descriptionId})]})]})}),eh="DialogTitle",ev=i.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,s=ee(eh,n);return(0,u.jsx)(q.h2,{id:s.titleId,...r,ref:t})});ev.displayName=eh;var eb="DialogDescription",ey=i.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,s=ee(eb,n);return(0,u.jsx)(q.p,{id:s.descriptionId,...r,ref:t})});ey.displayName=eb;var ej="DialogClose",eN=i.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,s=ee(ej,n);return(0,u.jsx)(q.button,{type:"button",...r,ref:t,onClick:o(e.onClick,()=>s.onOpenChange(!1))})});function ew(e){return e?"open":"closed"}eN.displayName=ej;var eE="DialogTitleWarning",[eS,e_]=(s={contentName:ef,titleName:eh,docsSlug:"dialog"},t=i.createContext(s),(n=e=>{let{children:n,...r}=e,s=i.useMemo(()=>r,Object.values(r));return(0,u.jsx)(t.Provider,{value:s,children:n})}).displayName=eE+"Provider",[n,function(e){let n=i.useContext(t);if(n)return n;if(void 0!==s)return s;throw Error(`\`${e}\` must be used within \`${eE}\``)}]),eC=({titleId:e})=>{let t=e_(eE),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return i.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},eT=({contentRef:e,descriptionId:t})=>{let n=e_("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${n.contentName}}.`;return i.useEffect(()=>{let n=e.current?.getAttribute("aria-describedby");t&&n&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null};e.s(["Close",()=>eN,"Content",()=>em,"Description",()=>ey,"Overlay",()=>ed,"Portal",()=>eo,"Root",()=>et,"Title",()=>ev,"Trigger",()=>er],35598)},50064,e=>{"use strict";var t=e.i(91788);let n=0,r=new Map,s=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},a=[],i={toasts:[]};function o(e){i=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:n}=t;return n?s(n):e.toasts.forEach(e=>{s(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(i,e),a.forEach(e=>{e(i)})}function l({...e}){let t=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>o({type:"DISMISS_TOAST",toastId:t});return o({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function d(){let[e,n]=t.useState(i);return t.useEffect(()=>(a.push(n),()=>{let e=a.indexOf(n);e>-1&&a.splice(e,1)}),[e]),{...e,toast:l,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}e.s(["useToast",()=>d])},14586,e=>{"use strict";var t=e.i(91398),n=e.i(91788),r=e.i(17549),s=e.i(48684),a=e.i(86547);let i=(0,s.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-semibold ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=n.forwardRef(({className:e,variant:n,size:s,asChild:o=!1,...l},d)=>{let u=o?r.Slot:"button";return(0,t.jsx)(u,{className:(0,a.cn)(i({variant:n,size:s,className:e})),ref:d,...l})});o.displayName="Button",e.s(["Button",()=>o,"buttonVariants",()=>i])},2433,e=>{"use strict";var t=e.i(91398),n=e.i(91788),r=e.i(86547);let s=n.forwardRef(({className:e,type:n,...s},a)=>(0,t.jsx)("input",{type:n,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...s}));s.displayName="Input",e.s(["Input",()=>s])},67916,e=>{"use strict";var t=e.i(91398),n=e.i(48684),r=e.i(86547);let s=(0,n.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function a({className:e,variant:n,...a}){return(0,t.jsx)("div",{className:(0,r.cn)(s({variant:n}),e),...a})}e.s(["Badge",()=>a])},99535,e=>{"use strict";var t=e.i(91398),n=e.i(91788),r=e.i(86547);let s=n.forwardRef(({className:e,...n},s)=>(0,t.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));s.displayName="Textarea",e.s(["Textarea",()=>s])},25788,e=>{"use strict";var t=e.i(91398),n=e.i(91788),r=e.i(83127),s=e.i(2433),a=e.i(83337);function i({filters:e,onFilterChange:n,facilities:r}){return(0,t.jsxs)("div",{className:"bg-white p-6 rounded-xl border-2 border-[#C8BFAE] space-y-4",children:[(0,t.jsx)("h3",{className:"font-['Poppins'] font-semibold text-xl text-[#1C2E25]",children:"Filters"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-[#315E47] mb-2",children:"Search"}),(0,t.jsx)(s.Input,{placeholder:"Unit number, tenant...",value:e.search,onChange:e=>n("search",e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-[#315E47] mb-2",children:"Facility"}),(0,t.jsxs)(a.Select,{value:e.facility,onValueChange:e=>n("facility",e),children:[(0,t.jsx)(a.SelectTrigger,{children:(0,t.jsx)(a.SelectValue,{placeholder:"All Facilities"})}),(0,t.jsxs)(a.SelectContent,{children:[(0,t.jsx)(a.SelectItem,{value:"all",children:"All Facilities"}),r.map(e=>(0,t.jsx)(a.SelectItem,{value:e.id,children:e.name},e.id))]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-[#315E47] mb-2",children:"Status"}),(0,t.jsxs)(a.Select,{value:e.status,onValueChange:e=>n("status",e),children:[(0,t.jsx)(a.SelectTrigger,{children:(0,t.jsx)(a.SelectValue,{placeholder:"All Statuses"})}),(0,t.jsxs)(a.SelectContent,{children:[(0,t.jsx)(a.SelectItem,{value:"all",children:"All Statuses"}),(0,t.jsx)(a.SelectItem,{value:"pending",children:"Pending"}),(0,t.jsx)(a.SelectItem,{value:"in_progress",children:"In Progress"}),(0,t.jsx)(a.SelectItem,{value:"completed",children:"Completed"}),(0,t.jsx)(a.SelectItem,{value:"cancelled",children:"Cancelled"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-[#315E47] mb-2",children:"Priority"}),(0,t.jsxs)(a.Select,{value:e.priority,onValueChange:e=>n("priority",e),children:[(0,t.jsx)(a.SelectTrigger,{children:(0,t.jsx)(a.SelectValue,{placeholder:"All Priorities"})}),(0,t.jsxs)(a.SelectContent,{children:[(0,t.jsx)(a.SelectItem,{value:"all",children:"All Priorities"}),(0,t.jsx)(a.SelectItem,{value:"high",children:"High"}),(0,t.jsx)(a.SelectItem,{value:"medium",children:"Medium"}),(0,t.jsx)(a.SelectItem,{value:"low",children:"Low"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-[#315E47] mb-2",children:"From Date"}),(0,t.jsx)(s.Input,{type:"date",value:e.dateFrom,onChange:e=>n("dateFrom",e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-[#315E47] mb-2",children:"To Date"}),(0,t.jsx)(s.Input,{type:"date",value:e.dateTo,onChange:e=>n("dateTo",e.target.value)})]})]})]})}var o=e.i(67916),l=e.i(14586);function d({submission:e,onViewDetails:n,onAssign:r,onUpdateStatus:s}){return(0,t.jsxs)("div",{className:"bg-white p-6 rounded-xl border-2 border-[#C8BFAE] hover:border-[#50E3E3] transition-colors",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"font-['Poppins'] font-semibold text-xl text-[#1C2E25]",children:["Unit ",e.unit_number]}),(0,t.jsx)("p",{className:"text-[#315E47]",children:e.tenant_name}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:e.facility_name})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 items-end",children:[(0,t.jsx)(o.Badge,{className:{pending:"bg-yellow-100 text-yellow-800",in_progress:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"}[e.status]||"bg-gray-100",children:e.status.replace("_"," ")}),(0,t.jsx)(o.Badge,{className:{high:"bg-red-100 text-red-800",medium:"bg-orange-100 text-orange-800",low:"bg-gray-100 text-gray-800"}[e.priority]||"bg-gray-100",children:e.priority})]})]}),(0,t.jsxs)("div",{className:"space-y-2 mb-4 text-sm",children:[(0,t.jsxs)("p",{className:"text-gray-600",children:["Submitted: ",new Date(e.created_at).toLocaleDateString()]}),e.assigned_to_name&&(0,t.jsxs)("p",{className:"text-gray-600",children:["Assigned to: ",e.assigned_to_name]}),(0,t.jsxs)("p",{className:"text-gray-600",children:["Family Contacted: ",e.family_contacted?"✓ Yes":"✗ No"]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(l.Button,{onClick:()=>n(e.id),variant:"outline",size:"sm",children:"View Details"}),(0,t.jsx)(l.Button,{onClick:()=>r(e.id),variant:"outline",size:"sm",children:"Assign"}),(0,t.jsx)(l.Button,{onClick:()=>s(e.id),variant:"outline",size:"sm",children:"Update Status"})]})]})}var u=e.i(35598),c=e.i(68462),f=e.i(86547);let m=u.Root;u.Trigger;let p=u.Portal;u.Close;let g=n.forwardRef(({className:e,...n},r)=>(0,t.jsx)(u.Overlay,{ref:r,className:(0,f.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n}));g.displayName=u.Overlay.displayName;let x=n.forwardRef(({className:e,children:n,...r},s)=>(0,t.jsxs)(p,{children:[(0,t.jsx)(g,{}),(0,t.jsxs)(u.Content,{ref:s,className:(0,f.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[n,(0,t.jsxs)(u.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(c.X,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));x.displayName=u.Content.displayName;let h=({className:e,...n})=>(0,t.jsx)("div",{className:(0,f.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...n});h.displayName="DialogHeader";let v=n.forwardRef(({className:e,...n},r)=>(0,t.jsx)(u.Title,{ref:r,className:(0,f.cn)("text-lg font-semibold leading-none tracking-tight",e),...n}));v.displayName=u.Title.displayName,n.forwardRef(({className:e,...n},r)=>(0,t.jsx)(u.Description,{ref:r,className:(0,f.cn)("text-sm text-muted-foreground",e),...n})).displayName=u.Description.displayName;var b=e.i(99535),y=e.i(50064);function j({open:e,onClose:s,submissionId:i,onSuccess:o}){let[d,u]=(0,n.useState)([]),[c,f]=(0,n.useState)(""),[p,g]=(0,n.useState)(""),[j,N]=(0,n.useState)(!1),{toast:w}=(0,y.useToast)();(0,n.useEffect)(()=>{e&&E()},[e]);let E=async()=>{let{data:e}=await r.supabase.from("users").select("id, email, full_name").in("role",["volunteer","admin"]);e&&u(e)},S=async()=>{if(!c)return void w({title:"Please select a volunteer",variant:"destructive"});N(!0);try{let{data:{user:e}}=await r.supabase.auth.getUser(),{error:t}=await r.supabase.from("submission_assignments").insert({submission_id:i,assigned_to:c,assigned_by:e?.id,notes:p});if(t)throw t;await r.supabase.from("facility_submissions").update({status:"in_progress"}).eq("id",i),w({title:"Assignment successful"}),o(),s()}catch(e){w({title:"Error assigning",description:e.message,variant:"destructive"})}finally{N(!1)}};return(0,t.jsx)(m,{open:e,onOpenChange:s,children:(0,t.jsxs)(x,{children:[(0,t.jsx)(h,{children:(0,t.jsx)(v,{children:"Assign Rescue Request"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Assign To"}),(0,t.jsxs)(a.Select,{value:c,onValueChange:f,children:[(0,t.jsx)(a.SelectTrigger,{children:(0,t.jsx)(a.SelectValue,{placeholder:"Select volunteer"})}),(0,t.jsx)(a.SelectContent,{children:d.map(e=>(0,t.jsx)(a.SelectItem,{value:e.id,children:e.full_name||e.email},e.id))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Notes"}),(0,t.jsx)(b.Textarea,{value:p,onChange:e=>g(e.target.value),placeholder:"Add assignment notes...",rows:3})]}),(0,t.jsx)(l.Button,{onClick:S,disabled:j,className:"w-full",children:j?"Assigning...":"Assign"})]})]})})}function N({open:e,onClose:s,submissionId:a,onSuccess:i}){let[d,u]=(0,n.useState)(null),[c,f]=(0,n.useState)([]),[p,g]=(0,n.useState)([]),[j,N]=(0,n.useState)(""),[w,E]=(0,n.useState)(""),{toast:S}=(0,y.useToast)();(0,n.useEffect)(()=>{e&&a&&_()},[e,a]);let _=async()=>{let{data:e}=await r.supabase.from("facility_submissions").select("*, storage_facilities(name)").eq("id",a).single(),{data:t}=await r.supabase.from("rescue_notes").select("*, users(email)").eq("submission_id",a).order("created_at",{ascending:!1}),{data:n}=await r.supabase.from("rescue_photos").select("*").eq("submission_id",a);e&&u(e),t&&f(t),n&&g(n)},C=async()=>{if(!j.trim())return;let{data:{user:e}}=await r.supabase.auth.getUser(),{error:t}=await r.supabase.from("rescue_notes").insert({submission_id:a,user_id:e?.id,note:j});t||(S({title:"Note added"}),N(""),_())},T=async()=>{let{data:{user:e}}=await r.supabase.auth.getUser(),{error:t}=await r.supabase.from("facility_submissions").update({family_contacted:!0,family_contacted_at:new Date().toISOString(),family_contacted_by:e?.id}).eq("id",a);t||(S({title:"Marked as contacted"}),_(),i())};return d?(0,t.jsx)(m,{open:e,onOpenChange:s,children:(0,t.jsxs)(x,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[(0,t.jsx)(h,{children:(0,t.jsx)(v,{children:"Rescue Request Details"})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Unit Number"}),(0,t.jsx)("p",{className:"font-semibold",children:d.unit_number})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Tenant Name"}),(0,t.jsx)("p",{className:"font-semibold",children:d.tenant_name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Facility"}),(0,t.jsx)("p",{className:"font-semibold",children:d.storage_facilities?.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Status"}),(0,t.jsx)(o.Badge,{children:d.status})]})]}),d.tenant_phone&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Phone"}),(0,t.jsx)("p",{children:d.tenant_phone})]}),d.unit_contents&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Contents"}),(0,t.jsx)("p",{children:d.unit_contents})]}),(0,t.jsx)("div",{children:(0,t.jsx)(l.Button,{onClick:T,disabled:d.family_contacted,variant:d.family_contacted?"outline":"default",children:d.family_contacted?"✓ Family Contacted":"Mark Family as Contacted"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"Add Note"}),(0,t.jsx)(b.Textarea,{value:j,onChange:e=>N(e.target.value),placeholder:"Add rescue notes...",rows:3}),(0,t.jsx)(l.Button,{onClick:C,className:"mt-2",children:"Add Note"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"Notes History"}),(0,t.jsx)("div",{className:"space-y-2",children:c.map(e=>(0,t.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:[(0,t.jsx)("p",{className:"text-sm",children:e.note}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[e.users?.email," - ",new Date(e.created_at).toLocaleString()]})]},e.id))})]})]})]})}):null}function w(){let[e,s]=(0,n.useState)([]),[a,o]=(0,n.useState)([]),[u,c]=(0,n.useState)({facility:"all",status:"all",priority:"all",dateFrom:"",dateTo:"",search:""}),[f,m]=(0,n.useState)(null),[p,g]=(0,n.useState)(!1),[x,h]=(0,n.useState)(!1),[v,b]=(0,n.useState)({total:0,pending:0,inProgress:0,completed:0}),{toast:w}=(0,y.useToast)();(0,n.useEffect)(()=>{E(),S()},[u]);let E=async()=>{let{data:e}=await r.supabase.from("storage_facilities").select("id, name");e&&o(e)},S=async()=>{let e=r.supabase.from("facility_submissions").select(`
        *,
        storage_facilities(name),
        submission_assignments(assigned_to, users(email, full_name))
      `).order("created_at",{ascending:!1});"all"!==u.facility&&(e=e.eq("facility_id",u.facility)),"all"!==u.status&&(e=e.eq("status",u.status)),"all"!==u.priority&&(e=e.eq("priority",u.priority)),u.dateFrom&&(e=e.gte("created_at",u.dateFrom)),u.dateTo&&(e=e.lte("created_at",u.dateTo)),u.search&&(e=e.or(`unit_number.ilike.%${u.search}%,tenant_name.ilike.%${u.search}%`));let{data:t}=await e;t&&(s(t.map(e=>({...e,facility_name:e.storage_facilities?.name,assigned_to_name:e.submission_assignments?.[0]?.users?.full_name||e.submission_assignments?.[0]?.users?.email}))),b({total:t.length,pending:t.filter(e=>"pending"===e.status).length,inProgress:t.filter(e=>"in_progress"===e.status).length,completed:t.filter(e=>"completed"===e.status).length}))},_=e=>{m(e),g(!0)},C=e=>{m(e),h(!0)},T=async t=>{let n=e.find(e=>e.id===t),s=["pending","in_progress","completed"],a=s.indexOf(n?.status||"pending"),i=s[(a+1)%s.length],{error:o}=await r.supabase.from("facility_submissions").update({status:i}).eq("id",t);o||(w({title:`Status updated to ${i}`}),S())};return(0,t.jsxs)("div",{className:"min-h-screen bg-[#F6F4EE] py-12",children:[(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"font-['Poppins'] font-bold text-5xl text-[#1C2E25] mb-2",children:"Admin Dashboard"}),(0,t.jsx)("p",{className:"text-[#315E47] text-lg",children:"Manage rescue operations across all facilities"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-white p-6 rounded-xl border-2 border-[#C8BFAE]",children:[(0,t.jsx)("p",{className:"text-sm text-[#315E47] mb-1",children:"Total Submissions"}),(0,t.jsx)("p",{className:"font-['Poppins'] font-bold text-4xl text-[#1C2E25]",children:v.total})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-xl border-2 border-[#C8BFAE]",children:[(0,t.jsx)("p",{className:"text-sm text-[#315E47] mb-1",children:"Pending"}),(0,t.jsx)("p",{className:"font-['Poppins'] font-bold text-4xl text-yellow-600",children:v.pending})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-xl border-2 border-[#C8BFAE]",children:[(0,t.jsx)("p",{className:"text-sm text-[#315E47] mb-1",children:"In Progress"}),(0,t.jsx)("p",{className:"font-['Poppins'] font-bold text-4xl text-blue-600",children:v.inProgress})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-xl border-2 border-[#C8BFAE]",children:[(0,t.jsx)("p",{className:"text-sm text-[#315E47] mb-1",children:"Completed"}),(0,t.jsx)("p",{className:"font-['Poppins'] font-bold text-4xl text-green-600",children:v.completed})]})]}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)(l.Button,{onClick:()=>{let t=new Blob([["Unit,Tenant,Facility,Status,Priority,Date,Assigned To",...e.map(e=>[e.unit_number,e.tenant_name,e.facility_name,e.status,e.priority,new Date(e.created_at).toLocaleDateString(),e.assigned_to_name||"Unassigned"].join(","))].join("\n")],{type:"text/csv"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=`rescue-report-${new Date().toISOString().split("T")[0]}.csv`,r.click()},variant:"outline",children:"Export Report (CSV)"})}),(0,t.jsx)(i,{filters:u,onFilterChange:(e,t)=>{c(n=>({...n,[e]:t}))},facilities:a}),(0,t.jsx)("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,t.jsx)(d,{submission:e,onViewDetails:C,onAssign:_,onUpdateStatus:T},e.id))}),0===e.length&&(0,t.jsx)("div",{className:"text-center py-12 text-gray-500",children:"No submissions found matching your filters"})]}),f&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j,{open:p,onClose:()=>g(!1),submissionId:f,onSuccess:S}),(0,t.jsx)(N,{open:x,onClose:()=>h(!1),submissionId:f,onSuccess:S})]})]})}e.s(["default",()=>w],25788)},12184,(e,t,n)=>{let r="/Admin";(window.__NEXT_P=window.__NEXT_P||[]).push([r,()=>e.r(25788)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([r])})},48761,e=>{e.v(t=>Promise.all(["static/chunks/fd7c0943d5cd5e09.js"].map(t=>e.l(t))).then(()=>t(93594)))},28805,e=>{e.v(t=>Promise.all(["static/chunks/3dcc93bb4829c1ba.js"].map(t=>e.l(t))).then(()=>t(79466)))}]);