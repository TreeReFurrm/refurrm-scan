(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,50064,e=>{"use strict";var t=e.i(91788);let r=0,a=new Map,s=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),l({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},n=[],i={toasts:[]};function l(e){i=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?s(r):e.toasts.forEach(e=>{s(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(i,e),n.forEach(e=>{e(i)})}function o({...e}){let t=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>l({type:"DISMISS_TOAST",toastId:t});return l({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||a()}}}),{id:t,dismiss:a,update:e=>l({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function d(){let[e,r]=t.useState(i);return t.useEffect(()=>(n.push(r),()=>{let e=n.indexOf(r);e>-1&&n.splice(e,1)}),[e]),{...e,toast:o,dismiss:e=>l({type:"DISMISS_TOAST",toastId:e})}}e.s(["useToast",()=>d])},14586,e=>{"use strict";var t=e.i(91398),r=e.i(91788),a=e.i(17549),s=e.i(48684),n=e.i(86547);let i=(0,s.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-semibold ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=r.forwardRef(({className:e,variant:r,size:s,asChild:l=!1,...o},d)=>{let c=l?a.Slot:"button";return(0,t.jsx)(c,{className:(0,n.cn)(i({variant:r,size:s,className:e})),ref:d,...o})});l.displayName="Button",e.s(["Button",()=>l,"buttonVariants",()=>i])},98175,e=>{"use strict";var t=e.i(91398),r=e.i(91788),a=e.i(86547);let s=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));s.displayName="Card";let n=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...r}));n.displayName="CardHeader";let i=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));i.displayName="CardTitle";let l=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",e),...r}));l.displayName="CardDescription";let o=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("p-6 pt-0",e),...r}));o.displayName="CardContent",r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter",e.s(["Card",()=>s,"CardContent",()=>o,"CardDescription",()=>l,"CardHeader",()=>n,"CardTitle",()=>i])},2433,e=>{"use strict";var t=e.i(91398),r=e.i(91788),a=e.i(86547);let s=r.forwardRef(({className:e,type:r,...s},n)=>(0,t.jsx)("input",{type:r,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...s}));s.displayName="Input",e.s(["Input",()=>s])},94193,e=>{"use strict";var t=e.i(91398),r=e.i(91788),a=e.i(74534),s=r.forwardRef((e,r)=>(0,t.jsx)(a.Primitive.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));s.displayName="Label";var n=e.i(48684),i=e.i(86547);let l=(0,n.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(s,{ref:a,className:(0,i.cn)(l(),e),...r}));o.displayName=s.displayName,e.s(["Label",()=>o],94193)},49577,e=>{"use strict";var t=e.i(91788),r=e.i(74534),a=e.i(91398),s=t.forwardRef((e,t)=>(0,a.jsx)(r.Primitive.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));s.displayName="VisuallyHidden",e.s(["Root",()=>s,"VisuallyHidden",()=>s])},83337,e=>{"use strict";var t=e.i(91398),r=e.i(91788),a=e.i(94053),s=e.i(70084),n=e.i(18324),i=e.i(10710),l=e.i(86547);let o=a.Root;a.Group;let d=a.Value,c=r.forwardRef(({className:e,children:r,...s},i)=>(0,t.jsxs)(a.Trigger,{ref:i,className:(0,l.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[r,(0,t.jsx)(a.Icon,{asChild:!0,children:(0,t.jsx)(n.ChevronDown,{className:"h-4 w-4 opacity-50"})})]}));c.displayName=a.Trigger.displayName;let u=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)(a.ScrollUpButton,{ref:s,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",e),...r,children:(0,t.jsx)(i.ChevronUp,{className:"h-4 w-4"})}));u.displayName=a.ScrollUpButton.displayName;let f=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)(a.ScrollDownButton,{ref:s,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",e),...r,children:(0,t.jsx)(n.ChevronDown,{className:"h-4 w-4"})}));f.displayName=a.ScrollDownButton.displayName;let m=r.forwardRef(({className:e,children:r,position:s="popper",...n},i)=>(0,t.jsx)(a.Portal,{children:(0,t.jsxs)(a.Content,{ref:i,className:(0,l.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...n,children:[(0,t.jsx)(u,{}),(0,t.jsx)(a.Viewport,{className:(0,l.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,t.jsx)(f,{})]})}));m.displayName=a.Content.displayName,r.forwardRef(({className:e,...r},s)=>(0,t.jsx)(a.Label,{ref:s,className:(0,l.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...r})).displayName=a.Label.displayName;let p=r.forwardRef(({className:e,children:r,...n},i)=>(0,t.jsxs)(a.Item,{ref:i,className:(0,l.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(a.ItemIndicator,{children:(0,t.jsx)(s.Check,{className:"h-4 w-4"})})}),(0,t.jsx)(a.ItemText,{children:r})]}));p.displayName=a.Item.displayName,r.forwardRef(({className:e,...r},s)=>(0,t.jsx)(a.Separator,{ref:s,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",e),...r})).displayName=a.Separator.displayName,e.s(["Select",()=>o,"SelectContent",()=>m,"SelectItem",()=>p,"SelectTrigger",()=>c,"SelectValue",()=>d])},99535,e=>{"use strict";var t=e.i(91398),r=e.i(91788),a=e.i(86547);let s=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));s.displayName="Textarea",e.s(["Textarea",()=>s])},91680,e=>{"use strict";let t=(0,e.i(69547).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>t],91680)},86122,e=>{"use strict";let t=(0,e.i(69547).default)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);e.s(["Award",()=>t],86122)},67916,e=>{"use strict";var t=e.i(91398),r=e.i(48684),a=e.i(86547);let s=(0,r.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:r,...n}){return(0,t.jsx)("div",{className:(0,a.cn)(s({variant:r}),e),...n})}e.s(["Badge",()=>n])},56043,e=>{"use strict";let t=(0,e.i(69547).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],56043)},21498,e=>{"use strict";var t=e.i(91788),r=e.i(71185),a=e.i(52162),s=e.i(57006),n=e.i(79293),i=e.i(64592),l=e.i(74534),o=e.i(98657),d=e.i(55037),c=e.i(24537),u=e.i(91398),f="rovingFocusGroup.onEntryFocus",m={bubbles:!1,cancelable:!0},p="RovingFocusGroup",[h,x,g]=(0,a.createCollection)(p),[b,y]=(0,n.createContextScope)(p,[g]),[v,j]=b(p),N=t.forwardRef((e,t)=>(0,u.jsx)(h.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,u.jsx)(h.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,u.jsx)(w,{...e,ref:t})})}));N.displayName=p;var w=t.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:n,orientation:i,loop:p=!1,dir:h,currentTabStopId:g,defaultCurrentTabStopId:b,onCurrentTabStopIdChange:y,onEntryFocus:j,preventScrollOnEntryFocus:N=!1,...w}=e,C=t.useRef(null),S=(0,s.useComposedRefs)(a,C),T=(0,c.useDirection)(h),[_=null,k]=(0,d.useControllableState)({prop:g,defaultProp:b,onChange:y}),[I,E]=t.useState(!1),A=(0,o.useCallbackRef)(j),P=x(n),D=t.useRef(!1),[F,M]=t.useState(0);return t.useEffect(()=>{let e=C.current;if(e)return e.addEventListener(f,A),()=>e.removeEventListener(f,A)},[A]),(0,u.jsx)(v,{scope:n,orientation:i,dir:T,loop:p,currentTabStopId:_,onItemFocus:t.useCallback(e=>k(e),[k]),onItemShiftTab:t.useCallback(()=>E(!0),[]),onFocusableItemAdd:t.useCallback(()=>M(e=>e+1),[]),onFocusableItemRemove:t.useCallback(()=>M(e=>e-1),[]),children:(0,u.jsx)(l.Primitive.div,{tabIndex:I||0===F?-1:0,"data-orientation":i,...w,ref:S,style:{outline:"none",...e.style},onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,()=>{D.current=!0}),onFocus:(0,r.composeEventHandlers)(e.onFocus,e=>{let t=!D.current;if(e.target===e.currentTarget&&t&&!I){let t=new CustomEvent(f,m);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=P().filter(e=>e.focusable);R([e.find(e=>e.active),e.find(e=>e.id===_),...e].filter(Boolean).map(e=>e.ref.current),N)}}D.current=!1}),onBlur:(0,r.composeEventHandlers)(e.onBlur,()=>E(!1))})})}),C="RovingFocusGroupItem",S=t.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:s,focusable:n=!0,active:o=!1,tabStopId:d,...c}=e,f=(0,i.useId)(),m=d||f,p=j(C,s),g=p.currentTabStopId===m,b=x(s),{onFocusableItemAdd:y,onFocusableItemRemove:v}=p;return t.useEffect(()=>{if(n)return y(),()=>v()},[n,y,v]),(0,u.jsx)(h.ItemSlot,{scope:s,id:m,focusable:n,active:o,children:(0,u.jsx)(l.Primitive.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...c,ref:a,onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,e=>{n?p.onItemFocus(m):e.preventDefault()}),onFocus:(0,r.composeEventHandlers)(e.onFocus,()=>p.onItemFocus(m)),onKeyDown:(0,r.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void p.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var a;let s=(a=e.key,"rtl"!==r?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(s))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(s)))return T[s]}(e,p.orientation,p.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=b().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){var r,a;"prev"===t&&s.reverse();let n=s.indexOf(e.currentTarget);s=p.loop?(r=s,a=n+1,r.map((e,t)=>r[(a+t)%r.length])):s.slice(n+1)}setTimeout(()=>R(s))}})})})});S.displayName=C;var T={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function R(e,t=!1){let r=document.activeElement;for(let a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}e.s(["Item",()=>S,"Root",()=>N,"createRovingFocusGroupScope",()=>y])},41705,(e,t,r)=>{"use strict";r._=function(e){return e&&e.__esModule?e:{default:e}}},13584,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"HeadManagerContext",{enumerable:!0,get:function(){return a}});let a=e.r(41705)._(e.r(91788)).default.createContext({})},94470,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},52456,(e,t,r)=>{"use strict";function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}r._=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var s={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=n?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(s,i,l):s[i]=e[i]}return s.default=e,r&&r.set(e,s),s}},89129,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={DecodeError:function(){return g},MiddlewareNotFoundError:function(){return j},MissingStaticPage:function(){return v},NormalizeError:function(){return b},PageNotFoundError:function(){return y},SP:function(){return h},ST:function(){return x},WEB_VITALS:function(){return n},execOnce:function(){return i},getDisplayName:function(){return u},getLocationOrigin:function(){return d},getURL:function(){return c},isAbsoluteUrl:function(){return o},isResSent:function(){return f},loadGetInitialProps:function(){return p},normalizeRepeatedSlashes:function(){return m},stringifyError:function(){return N}};for(var s in a)Object.defineProperty(r,s,{enumerable:!0,get:a[s]});let n=["CLS","FCP","FID","INP","LCP","TTFB"];function i(e){let t,r=!1;return(...a)=>(r||(r=!0,t=e(...a)),t)}let l=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,o=e=>l.test(e);function d(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function c(){let{href:e}=window.location,t=d();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function f(e){return e.finished||e.headersSent}function m(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function p(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await p(t.Component,t.ctx)}:{};let a=await e.getInitialProps(t);if(r&&f(r))return a;if(!a)throw Object.defineProperty(Error(`"${u(e)}.getInitialProps()" should resolve to an object. But found "${a}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a}let h="undefined"!=typeof performance,x=h&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class g extends Error{}class b extends Error{}class y extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class v extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class j extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function N(e){return JSON.stringify({message:e.message,stack:e.stack})}},3828,(e,t,r)=>{t.exports=e.r(26990)},44292,e=>{"use strict";var t=e.i(91398),r=e.i(91788),a=e.i(83127);let s=(0,r.createContext)(void 0);e.s(["AuthProvider",0,({children:e})=>{let[n,i]=(0,r.useState)(null),[l,o]=(0,r.useState)(null),[d,c]=(0,r.useState)(null),[u,f]=(0,r.useState)(!0);(0,r.useEffect)(()=>{a.supabase.auth.getSession().then(({data:{session:e}})=>{c(e),i(e?.user??null),e?.user?m(e.user.id):f(!1)});let{data:{subscription:e}}=a.supabase.auth.onAuthStateChange((e,t)=>{c(t),i(t?.user??null),t?.user?m(t.user.id):(o(null),f(!1))});return()=>e.unsubscribe()},[]);let m=async e=>{let{data:t}=await a.supabase.from("users").select("*").eq("id",e).single();o(t),f(!1)},p=async(e,t,r,s)=>{let{error:n}=await a.supabase.auth.signUp({email:e,password:t,options:{data:{full_name:r,role:s}}});if(n)throw n},h=async(e,t)=>{let{error:r}=await a.supabase.auth.signInWithPassword({email:e,password:t});if(r)throw r},x=async()=>{let{error:e}=await a.supabase.auth.signOut();if(e)throw e},g=async e=>{if(!n)return;let{error:t}=await a.supabase.from("users").update(e).eq("id",n.id);if(t)throw t;await m(n.id)};return(0,t.jsx)(s.Provider,{value:{user:n,profile:l,session:d,loading:u,signUp:p,signIn:h,signOut:x,updateProfile:g},children:e})},"useAuth",0,()=>{let e=(0,r.useContext)(s);if(!e)throw Error("useAuth must be used within AuthProvider");return e}])},83127,e=>{"use strict";let t={id:"local-user",email:"demo@refurrm.test",user_metadata:{full_name:"ReFurrm Tester",role:"family"}};e.s(["supabase",0,{auth:{getSession:async()=>({data:{session:{user:t}},error:null}),getUser:async()=>({data:{user:t},error:null}),signUp:async()=>({data:{user:t},error:null}),signInWithPassword:async()=>({data:{session:{user:t}},error:null}),signOut:async()=>({error:null}),onAuthStateChange:e=>(e("INITIAL",{user:t}),{data:{subscription:{unsubscribe:()=>{}}}})},functions:{invoke:async()=>({data:null,error:null})},from:e=>{var t;let r;return r={data:t=[],error:null,select:()=>r,eq:()=>r,order:()=>r,limit:()=>r,single:async()=>({data:Array.isArray(t)?t[0]??null:t,error:null}),insert:async()=>({data:null,error:null}),update:()=>({eq:async()=>({data:null,error:null})}),then:e=>e({data:t,error:null})}}}])},17549,e=>{"use strict";var t=e.i(91788);function r(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var a=e.i(91398);function s(e){var s;let n,i=(s=e,(n=t.forwardRef((e,a)=>{let{children:s,...n}=e;if(t.isValidElement(s)){var i;let e,l,o=(i=s,(l=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(l=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),d=function(e,t){let r={...t};for(let a in t){let s=e[a],n=t[a];/^on[A-Z]/.test(a)?s&&n?r[a]=(...e)=>{let t=n(...e);return s(...e),t}:s&&(r[a]=s):"style"===a?r[a]={...s,...n}:"className"===a&&(r[a]=[s,n].filter(Boolean).join(" "))}return{...e,...r}}(n,s.props);return s.type!==t.Fragment&&(d.ref=a?function(...e){return t=>{let a=!1,s=e.map(e=>{let s=r(e,t);return a||"function"!=typeof s||(a=!0),s});if(a)return()=>{for(let t=0;t<s.length;t++){let a=s[t];"function"==typeof a?a():r(e[t],null)}}}}(a,o):o),t.cloneElement(s,d)}return t.Children.count(s)>1?t.Children.only(null):null})).displayName=`${s}.SlotClone`,n),o=t.forwardRef((e,r)=>{let{children:s,...n}=e,o=t.Children.toArray(s),d=o.find(l);if(d){let e=d.props.children,s=o.map(r=>r!==d?r:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,a.jsx)(i,{...n,ref:r,children:t.isValidElement(e)?t.cloneElement(e,void 0,s):null})}return(0,a.jsx)(i,{...n,ref:r,children:s})});return o.displayName=`${e}.Slot`,o}var n=s("Slot"),i=Symbol("radix.slottable");function l(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===i}e.s(["Slot",()=>n,"createSlot",()=>s],17549)},93953,e=>{"use strict";var t=e.i(91788),r=e.i(57006),a=e.i(76833),s=e=>{var s;let i,l,{present:o,children:d}=e,c=function(e){var r,s;let[i,l]=t.useState(),o=t.useRef({}),d=t.useRef(e),c=t.useRef("none"),[u,f]=(r=e?"mounted":"unmounted",s={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},t.useReducer((e,t)=>s[e][t]??e,r));return t.useEffect(()=>{let e=n(o.current);c.current="mounted"===u?e:"none"},[u]),(0,a.useLayoutEffect)(()=>{let t=o.current,r=d.current;if(r!==e){let a=c.current,s=n(t);e?f("MOUNT"):"none"===s||t?.display==="none"?f("UNMOUNT"):r&&a!==s?f("ANIMATION_OUT"):f("UNMOUNT"),d.current=e}},[e,f]),(0,a.useLayoutEffect)(()=>{if(i){let e,t=i.ownerDocument.defaultView??window,r=r=>{let a=n(o.current).includes(r.animationName);if(r.target===i&&a&&(f("ANIMATION_END"),!d.current)){let r=i.style.animationFillMode;i.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===i.style.animationFillMode&&(i.style.animationFillMode=r)})}},a=e=>{e.target===i&&(c.current=n(o.current))};return i.addEventListener("animationstart",a),i.addEventListener("animationcancel",r),i.addEventListener("animationend",r),()=>{t.clearTimeout(e),i.removeEventListener("animationstart",a),i.removeEventListener("animationcancel",r),i.removeEventListener("animationend",r)}}f("ANIMATION_END")},[i,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:t.useCallback(e=>{e&&(o.current=getComputedStyle(e)),l(e)},[])}}(o),u="function"==typeof d?d({present:c.isPresent}):t.Children.only(d),f=(0,r.useComposedRefs)(c.ref,(s=u,(l=(i=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in i&&i.isReactWarning)?s.ref:(l=(i=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in i&&i.isReactWarning)?s.props.ref:s.props.ref||s.ref));return"function"==typeof d||c.isPresent?t.cloneElement(u,{ref:f}):null};function n(e){return e?.animationName||"none"}s.displayName="Presence",e.s(["Presence",()=>s])},95746,e=>{"use strict";let t=(0,e.i(69547).default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);e.s(["Users",()=>t],95746)},27877,e=>{"use strict";let t=(0,e.i(69547).default)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>t],27877)},86758,e=>{"use strict";var t=e.i(91398),r=e.i(91788),a=e.i(71185),s=e.i(79293),n=e.i(21498),i=e.i(93953),l=e.i(74534),o=e.i(24537),d=e.i(55037),c=e.i(64592),u="Tabs",[f,m]=(0,s.createContextScope)(u,[n.createRovingFocusGroupScope]),p=(0,n.createRovingFocusGroupScope)(),[h,x]=f(u),g=r.forwardRef((e,r)=>{let{__scopeTabs:a,value:s,onValueChange:n,defaultValue:i,orientation:u="horizontal",dir:f,activationMode:m="automatic",...p}=e,x=(0,o.useDirection)(f),[g,b]=(0,d.useControllableState)({prop:s,onChange:n,defaultProp:i});return(0,t.jsx)(h,{scope:a,baseId:(0,c.useId)(),value:g,onValueChange:b,orientation:u,dir:x,activationMode:m,children:(0,t.jsx)(l.Primitive.div,{dir:x,"data-orientation":u,...p,ref:r})})});g.displayName=u;var b="TabsList",y=r.forwardRef((e,r)=>{let{__scopeTabs:a,loop:s=!0,...i}=e,o=x(b,a),d=p(a);return(0,t.jsx)(n.Root,{asChild:!0,...d,orientation:o.orientation,dir:o.dir,loop:s,children:(0,t.jsx)(l.Primitive.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:r})})});y.displayName=b;var v="TabsTrigger",j=r.forwardRef((e,r)=>{let{__scopeTabs:s,value:i,disabled:o=!1,...d}=e,c=x(v,s),u=p(s),f=C(c.baseId,i),m=S(c.baseId,i),h=i===c.value;return(0,t.jsx)(n.Item,{asChild:!0,...u,focusable:!o,active:h,children:(0,t.jsx)(l.Primitive.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":m,"data-state":h?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...d,ref:r,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(i)}),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(i)}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;h||o||!e||c.onValueChange(i)})})})});j.displayName=v;var N="TabsContent",w=r.forwardRef((e,a)=>{let{__scopeTabs:s,value:n,forceMount:o,children:d,...c}=e,u=x(N,s),f=C(u.baseId,n),m=S(u.baseId,n),p=n===u.value,h=r.useRef(p);return r.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(i.Presence,{present:o||p,children:({present:r})=>(0,t.jsx)(l.Primitive.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!r,id:m,tabIndex:0,...c,ref:a,style:{...e.style,animationDuration:h.current?"0s":void 0},children:r&&d})})});function C(e,t){return`${e}-trigger-${t}`}function S(e,t){return`${e}-content-${t}`}w.displayName=N;var T=e.i(86547);let R=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(y,{ref:a,className:(0,T.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));R.displayName=y.displayName;let _=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(j,{ref:a,className:(0,T.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...r}));_.displayName=j.displayName;let k=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(w,{ref:a,className:(0,T.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));k.displayName=w.displayName,e.s(["Tabs",()=>g,"TabsContent",()=>k,"TabsList",()=>R,"TabsTrigger",()=>_],86758)},30788,e=>{"use strict";let t=(0,e.i(69547).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],30788)},75878,e=>{"use strict";let t=(0,e.i(69547).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],75878)},67970,e=>{"use strict";var t=e.i(91398),r=e.i(91788),a=e.i(44292),s=e.i(83127),n=e.i(14586),i=e.i(86758),l=e.i(91680),o=e.i(95746),d=e.i(27877),c=e.i(86122),u=e.i(98175);function f({totalUnits:e,unitsRescued:r,familiesHelped:a,activeRequests:s}){return(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)(u.Card,{children:[(0,t.jsxs)(u.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(u.CardTitle,{className:"text-sm font-medium",children:"Total Units"}),(0,t.jsx)(d.Package,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(u.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:e}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Submitted for rescue"})]})]}),(0,t.jsxs)(u.Card,{children:[(0,t.jsxs)(u.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(u.CardTitle,{className:"text-sm font-medium",children:"Units Rescued"}),(0,t.jsx)(l.TrendingUp,{className:"h-4 w-4 text-green-600"})]}),(0,t.jsxs)(u.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:r}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Successfully processed"})]})]}),(0,t.jsxs)(u.Card,{children:[(0,t.jsxs)(u.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(u.CardTitle,{className:"text-sm font-medium",children:"Families Helped"}),(0,t.jsx)(o.Users,{className:"h-4 w-4 text-blue-600"})]}),(0,t.jsxs)(u.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:a}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Reunited with belongings"})]})]}),(0,t.jsxs)(u.Card,{children:[(0,t.jsxs)(u.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(u.CardTitle,{className:"text-sm font-medium",children:"Active Requests"}),(0,t.jsx)(c.Award,{className:"h-4 w-4 text-orange-600"})]}),(0,t.jsxs)(u.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:s}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"In progress"})]})]})]})}var m=e.i(2433),p=e.i(94193),h=e.i(99535),x=e.i(83337),g=e.i(50064);function b({facilityId:e,onSuccess:a}){let{toast:i}=(0,g.useToast)(),[l,o]=(0,r.useState)(!1),[d,c]=(0,r.useState)({unitNumber:"",tenantName:"",tenantContact:"",unitSize:"",estimatedValue:"",auctionDate:"",priority:"standard",notes:""}),f=async t=>{t.preventDefault(),o(!0);try{let{error:t}=await s.supabase.from("facility_submissions").insert({facility_id:e,unit_number:d.unitNumber,tenant_name:d.tenantName,tenant_contact:d.tenantContact,unit_size:d.unitSize,estimated_value:parseFloat(d.estimatedValue),auction_date:d.auctionDate,priority:d.priority,notes:d.notes,status:"pending"});if(t)throw t;i({title:"Success!",description:"Rescue request submitted successfully."}),c({unitNumber:"",tenantName:"",tenantContact:"",unitSize:"",estimatedValue:"",auctionDate:"",priority:"standard",notes:""}),a()}catch(e){i({title:"Error",description:e.message,variant:"destructive"})}finally{o(!1)}};return(0,t.jsxs)(u.Card,{children:[(0,t.jsxs)(u.CardHeader,{children:[(0,t.jsx)(u.CardTitle,{children:"Submit Rescue Request"}),(0,t.jsx)(u.CardDescription,{children:"Submit a storage unit for rescue consideration"})]}),(0,t.jsx)(u.CardContent,{children:(0,t.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(p.Label,{htmlFor:"unitNumber",children:"Unit Number *"}),(0,t.jsx)(m.Input,{id:"unitNumber",required:!0,value:d.unitNumber,onChange:e=>c({...d,unitNumber:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(p.Label,{htmlFor:"unitSize",children:"Unit Size"}),(0,t.jsxs)(x.Select,{value:d.unitSize,onValueChange:e=>c({...d,unitSize:e}),children:[(0,t.jsx)(x.SelectTrigger,{children:(0,t.jsx)(x.SelectValue,{placeholder:"Select size"})}),(0,t.jsxs)(x.SelectContent,{children:[(0,t.jsx)(x.SelectItem,{value:"5x5",children:"5x5"}),(0,t.jsx)(x.SelectItem,{value:"5x10",children:"5x10"}),(0,t.jsx)(x.SelectItem,{value:"10x10",children:"10x10"}),(0,t.jsx)(x.SelectItem,{value:"10x15",children:"10x15"}),(0,t.jsx)(x.SelectItem,{value:"10x20",children:"10x20"})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(p.Label,{htmlFor:"tenantName",children:"Tenant Name"}),(0,t.jsx)(m.Input,{id:"tenantName",value:d.tenantName,onChange:e=>c({...d,tenantName:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(p.Label,{htmlFor:"tenantContact",children:"Tenant Contact"}),(0,t.jsx)(m.Input,{id:"tenantContact",value:d.tenantContact,onChange:e=>c({...d,tenantContact:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(p.Label,{htmlFor:"estimatedValue",children:"Est. Value ($)"}),(0,t.jsx)(m.Input,{id:"estimatedValue",type:"number",value:d.estimatedValue,onChange:e=>c({...d,estimatedValue:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(p.Label,{htmlFor:"auctionDate",children:"Auction Date"}),(0,t.jsx)(m.Input,{id:"auctionDate",type:"date",value:d.auctionDate,onChange:e=>c({...d,auctionDate:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(p.Label,{htmlFor:"priority",children:"Priority"}),(0,t.jsxs)(x.Select,{value:d.priority,onValueChange:e=>c({...d,priority:e}),children:[(0,t.jsx)(x.SelectTrigger,{children:(0,t.jsx)(x.SelectValue,{})}),(0,t.jsxs)(x.SelectContent,{children:[(0,t.jsx)(x.SelectItem,{value:"standard",children:"Standard"}),(0,t.jsx)(x.SelectItem,{value:"urgent",children:"Urgent"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(p.Label,{htmlFor:"notes",children:"Notes"}),(0,t.jsx)(h.Textarea,{id:"notes",rows:3,value:d.notes,onChange:e=>c({...d,notes:e.target.value})})]}),(0,t.jsx)(n.Button,{type:"submit",disabled:l,className:"w-full",children:l?"Submitting...":"Submit Request"})]})})]})}var y=e.i(69547);let v=(0,y.default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),j=(0,y.default)("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);function N({facilityId:e,onSuccess:a}){let{toast:i}=(0,g.useToast)(),[l,o]=(0,r.useState)(!1),[d,c]=(0,r.useState)(""),f=async()=>{o(!0);try{let t=d.trim().split("\n").slice(1).map(t=>{let[r,a,s,n,i,l]=t.split(",");return{facility_id:e,unit_number:r?.trim(),tenant_name:a?.trim(),tenant_contact:s?.trim(),unit_size:n?.trim(),estimated_value:i?parseFloat(i.trim()):null,auction_date:l?.trim(),status:"pending"}}).filter(e=>e.unit_number),{error:r}=await s.supabase.from("facility_submissions").insert(t);if(r)throw r;i({title:"Success!",description:`${t.length} units submitted successfully.`}),c(""),a()}catch(e){i({title:"Error",description:e.message,variant:"destructive"})}finally{o(!1)}};return(0,t.jsxs)(u.Card,{children:[(0,t.jsxs)(u.CardHeader,{children:[(0,t.jsxs)(u.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(j,{className:"h-5 w-5"}),"Bulk Unit Submission"]}),(0,t.jsx)(u.CardDescription,{children:"Upload multiple units at once using CSV format"})]}),(0,t.jsxs)(u.CardContent,{className:"space-y-4",children:[(0,t.jsxs)(n.Button,{variant:"outline",onClick:()=>{let e=new Blob(["Unit Number,Tenant Name,Tenant Contact,Unit Size,Estimated Value,Auction Date\nA101,John Doe,555-0100,10x10,5000,2025-12-01\n"],{type:"text/csv"}),t=window.URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="bulk_submission_template.csv",r.click()},className:"w-full",children:[(0,t.jsx)(v,{className:"h-4 w-4 mr-2"}),"Download CSV Template"]}),(0,t.jsx)("div",{children:(0,t.jsx)(h.Textarea,{placeholder:"Paste CSV data here (Unit Number, Tenant Name, Contact, Size, Value, Date)",rows:8,value:d,onChange:e=>c(e.target.value),className:"font-mono text-sm"})}),(0,t.jsx)(n.Button,{onClick:f,disabled:l||!d,className:"w-full",children:l?"Submitting...":"Submit Bulk Units"})]})]})}var w=e.i(67916),C=e.i(86547);let S=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:a,className:(0,C.cn)("w-full caption-bottom text-sm",e),...r})}));S.displayName="Table";let T=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("thead",{ref:a,className:(0,C.cn)("[&_tr]:border-b",e),...r}));T.displayName="TableHeader";let R=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("tbody",{ref:a,className:(0,C.cn)("[&_tr:last-child]:border-0",e),...r}));R.displayName="TableBody",r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("tfoot",{ref:a,className:(0,C.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r})).displayName="TableFooter";let _=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("tr",{ref:a,className:(0,C.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...r}));_.displayName="TableRow";let k=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("th",{ref:a,className:(0,C.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...r}));k.displayName="TableHead";let I=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("td",{ref:a,className:(0,C.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...r}));I.displayName="TableCell",r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("caption",{ref:a,className:(0,C.cn)("mt-4 text-sm text-muted-foreground",e),...r})).displayName="TableCaption";var E=e.i(56043),A=e.i(30788),P=e.i(75878);function D({submissions:e}){return(0,t.jsxs)(u.Card,{children:[(0,t.jsx)(u.CardHeader,{children:(0,t.jsx)(u.CardTitle,{children:"Recent Submissions"})}),(0,t.jsx)(u.CardContent,{children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(S,{children:[(0,t.jsx)(T,{children:(0,t.jsxs)(_,{children:[(0,t.jsx)(k,{children:"Unit"}),(0,t.jsx)(k,{children:"Tenant"}),(0,t.jsx)(k,{children:"Size"}),(0,t.jsx)(k,{children:"Value"}),(0,t.jsx)(k,{children:"Auction Date"}),(0,t.jsx)(k,{children:"Priority"}),(0,t.jsx)(k,{children:"Status"})]})}),(0,t.jsx)(R,{children:0===e.length?(0,t.jsx)(_,{children:(0,t.jsx)(I,{colSpan:7,className:"text-center text-muted-foreground",children:"No submissions yet"})}):e.map(e=>(0,t.jsxs)(_,{children:[(0,t.jsx)(I,{className:"font-medium",children:e.unit_number}),(0,t.jsx)(I,{children:e.tenant_name||"N/A"}),(0,t.jsx)(I,{children:e.unit_size||"N/A"}),(0,t.jsxs)(I,{children:["$",e.estimated_value?.toLocaleString()||"0"]}),(0,t.jsx)(I,{children:e.auction_date?new Date(e.auction_date).toLocaleDateString():"N/A"}),(0,t.jsx)(I,{children:(0,t.jsx)(w.Badge,{variant:"urgent"===e.priority?"destructive":"secondary",children:e.priority})}),(0,t.jsx)(I,{children:(0,t.jsx)(w.Badge,{className:(e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"in_progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(e.status),children:(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(e=>{switch(e){case"pending":default:return(0,t.jsx)(E.Clock,{className:"h-4 w-4"});case"in_progress":return(0,t.jsx)(d.Package,{className:"h-4 w-4"});case"completed":return(0,t.jsx)(A.CheckCircle,{className:"h-4 w-4"});case"cancelled":return(0,t.jsx)(P.AlertCircle,{className:"h-4 w-4"})}})(e.status),e.status.replace("_"," ")]})})})]},e.id))})]})})})]})}let F=(0,y.default)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);var M=e.i(3828);function O(){let{user:e}=(0,a.useAuth)(),{toast:o}=(0,g.useToast)(),d=(0,M.useRouter)(),[c,h]=(0,r.useState)(null),[x,y]=(0,r.useState)([]),[v,j]=(0,r.useState)(!0),[w,C]=(0,r.useState)(!1),[S,T]=(0,r.useState)({facilityName:"",contactName:"",email:e?.email||"",phone:"",address:"",city:"",state:"",zip:""});(0,r.useEffect)(()=>{e?R():d.push("/login")},[e,d]);let R=async()=>{try{let{data:t}=await s.supabase.from("storage_facilities").select("*").eq("user_id",e?.id).single();t?(h(t),_(t.id)):C(!0)}catch(e){console.error("Error loading facility:",e)}finally{j(!1)}},_=async e=>{let{data:t}=await s.supabase.from("facility_submissions").select("*").eq("facility_id",e).order("created_at",{ascending:!1});y(t||[])},k=async t=>{t.preventDefault();try{let{data:t,error:r}=await s.supabase.from("storage_facilities").insert({user_id:e?.id,facility_name:S.facilityName,contact_name:S.contactName,email:S.email,phone:S.phone,address:S.address,city:S.city,state:S.state,zip:S.zip}).select().single();if(r)throw r;h(t),C(!1),o({title:"Success!",description:"Facility profile created successfully."})}catch(e){o({title:"Error",description:e.message,variant:"destructive"})}};if(v)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."});if(w)return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white py-12 px-4",children:(0,t.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,t.jsxs)(u.Card,{children:[(0,t.jsxs)(u.CardHeader,{children:[(0,t.jsxs)(u.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(F,{className:"h-6 w-6"}),"Facility Registration"]}),(0,t.jsx)(u.CardDescription,{children:"Register your storage facility to start submitting rescue requests"})]}),(0,t.jsx)(u.CardContent,{children:(0,t.jsxs)("form",{onSubmit:k,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(p.Label,{htmlFor:"facilityName",children:"Facility Name *"}),(0,t.jsx)(m.Input,{id:"facilityName",required:!0,value:S.facilityName,onChange:e=>T({...S,facilityName:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(p.Label,{htmlFor:"contactName",children:"Contact Name *"}),(0,t.jsx)(m.Input,{id:"contactName",required:!0,value:S.contactName,onChange:e=>T({...S,contactName:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(p.Label,{htmlFor:"phone",children:"Phone *"}),(0,t.jsx)(m.Input,{id:"phone",required:!0,value:S.phone,onChange:e=>T({...S,phone:e.target.value})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(p.Label,{htmlFor:"email",children:"Email *"}),(0,t.jsx)(m.Input,{id:"email",type:"email",required:!0,value:S.email,onChange:e=>T({...S,email:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(p.Label,{htmlFor:"address",children:"Address *"}),(0,t.jsx)(m.Input,{id:"address",required:!0,value:S.address,onChange:e=>T({...S,address:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(p.Label,{htmlFor:"city",children:"City *"}),(0,t.jsx)(m.Input,{id:"city",required:!0,value:S.city,onChange:e=>T({...S,city:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(p.Label,{htmlFor:"state",children:"State *"}),(0,t.jsx)(m.Input,{id:"state",required:!0,value:S.state,onChange:e=>T({...S,state:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(p.Label,{htmlFor:"zip",children:"ZIP *"}),(0,t.jsx)(m.Input,{id:"zip",required:!0,value:S.zip,onChange:e=>T({...S,zip:e.target.value})})]})]}),(0,t.jsx)(n.Button,{type:"submit",className:"w-full",children:"Complete Registration"})]})})]})})});let I={totalUnits:x.length,unitsRescued:x.filter(e=>"completed"===e.status).length,familiesHelped:c?.families_helped||0,activeRequests:x.filter(e=>"pending"===e.status||"in_progress"===e.status).length};return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white",children:[(0,t.jsxs)("div",{className:"relative h-64 bg-cover bg-center",style:{backgroundImage:"url(https://d64gsuwffb70l.cloudfront.net/690c55f62a1c1509e277d961_1762491300212_845ff4fb.webp)"},children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/50"}),(0,t.jsx)("div",{className:"relative h-full flex items-center justify-center text-white",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-2",children:c?.facility_name}),(0,t.jsx)("p",{className:"text-xl",children:"Partner Facility Portal"})]})})]}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,t.jsx)(f,{...I}),(0,t.jsxs)(i.Tabs,{defaultValue:"submit",className:"space-y-6",children:[(0,t.jsxs)(i.TabsList,{className:"grid w-full grid-cols-3",children:[(0,t.jsx)(i.TabsTrigger,{value:"submit",children:"Submit Request"}),(0,t.jsx)(i.TabsTrigger,{value:"bulk",children:"Bulk Upload"}),(0,t.jsx)(i.TabsTrigger,{value:"history",children:"Submission History"})]}),(0,t.jsx)(i.TabsContent,{value:"submit",children:(0,t.jsx)(b,{facilityId:c?.id,onSuccess:()=>_(c?.id)})}),(0,t.jsx)(i.TabsContent,{value:"bulk",children:(0,t.jsx)(N,{facilityId:c?.id,onSuccess:()=>_(c?.id)})}),(0,t.jsx)(i.TabsContent,{value:"history",children:(0,t.jsx)(D,{submissions:x})})]}),(0,t.jsxs)(u.Card,{className:"mt-8",children:[(0,t.jsx)(u.CardHeader,{children:(0,t.jsxs)(u.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(l.TrendingUp,{className:"h-5 w-5 text-green-600"}),"Your Impact"]})}),(0,t.jsxs)(u.CardContent,{children:[(0,t.jsxs)("p",{className:"text-lg mb-4",children:["Through your partnership with ReFURRM, you've helped ",(0,t.jsxs)("span",{className:"font-bold text-blue-600",children:[c?.families_helped||0," families"]})," reunite with their belongings and avoid the trauma of losing their possessions to auction."]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Every unit you submit helps us identify families in crisis and provide them with the support they need to recover their belongings before it's too late."})]})]})]})]})}e.s(["default",()=>O],67970)},39133,(e,t,r)=>{let a="/FacilityPortal";(window.__NEXT_P=window.__NEXT_P||[]).push([a,()=>e.r(67970)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([a])})},48761,e=>{e.v(t=>Promise.all(["static/chunks/fd7c0943d5cd5e09.js"].map(t=>e.l(t))).then(()=>t(93594)))},28805,e=>{e.v(t=>Promise.all(["static/chunks/3dcc93bb4829c1ba.js"].map(t=>e.l(t))).then(()=>t(79466)))}]);