(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,64627,e=>{"use strict";let t;var r,n=e.i(91398),s=e.i(91788),a=e.i(44292),i=e.i(14586),o=e.i(2433),l=e.i(94193),d=e.i(98175),c=e.i(67916),u=e.i(50064),m=e.i(53088),f=e.i(22458),p=e.i(83073),h=e.i(2889),x=e.i(95746),v=e.i(45089),g=e.i(51670),y=e.i(68462),b=e.i(83127),j=e.i(30788),N=e.i(26119),w=e.i(39310),C=e.i(3828);function E({type:e,onClose:t}){let r=(0,C.useRouter)();return(0,s.useEffect)(()=>{let e=Date.now()+3e3,t=()=>{Date.now()<e&&requestAnimationFrame(t)};t()},[]),(0,n.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,n.jsxs)(N.Card,{className:"max-w-md w-full p-8 text-center",children:[(0,n.jsx)(j.CheckCircle,{className:"w-20 h-20 text-green-500 mx-auto mb-4"}),(0,n.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"donation"===e?"Thank You!":"Welcome to Pro!"}),(0,n.jsx)("p",{className:"text-gray-600 mb-6",children:"donation"===e?"Your donation has been processed successfully. You're helping reunite families with their belongings!":"Your Pro subscription is now active. Enjoy full access to AI scanning, analytics, and priority support!"}),(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)(w.Button,{onClick:()=>r.push("/profile"),className:"flex-1 bg-[#315E47] hover:bg-[#1C2E25]",children:"View Profile"}),(0,n.jsx)(w.Button,{onClick:t||(()=>r.push("/")),variant:"outline",className:"flex-1",children:"Continue"})]})]})})}var D=e.i(79293),R=e.i(57006),P=e.i(71185),F=e.i(64592),S=e.i(55037),L=e.i(74534),O=e.i(98657),T="dismissableLayer.update",A=s.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_=s.forwardRef((e,t)=>{let{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:d,onDismiss:c,...u}=e,m=s.useContext(A),[f,p]=s.useState(null),h=f?.ownerDocument??globalThis?.document,[,x]=s.useState({}),v=(0,R.useComposedRefs)(t,e=>p(e)),g=Array.from(m.layers),[y]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(y),j=f?g.indexOf(f):-1,N=m.layersWithOutsidePointerEventsDisabled.size>0,w=j>=b,C=function(e,t=globalThis?.document){let r=(0,O.useCallbackRef)(e),n=s.useRef(!1),a=s.useRef(()=>{});return s.useEffect(()=>{let e=e=>{if(e.target&&!n.current){let n=function(){k("dismissableLayer.pointerDownOutside",r,s,{discrete:!0})},s={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",a.current),a.current=n,t.addEventListener("click",a.current,{once:!0})):n()}else t.removeEventListener("click",a.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",e),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}(e=>{let t=e.target,r=[...m.branches].some(e=>e.contains(t));w&&!r&&(o?.(e),d?.(e),e.defaultPrevented||c?.())},h),E=function(e,t=globalThis?.document){let r=(0,O.useCallbackRef)(e),n=s.useRef(!1);return s.useEffect(()=>{let e=e=>{e.target&&!n.current&&k("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}(e=>{let t=e.target;![...m.branches].some(e=>e.contains(t))&&(l?.(e),d?.(e),e.defaultPrevented||c?.())},h);return!function(e,t=globalThis?.document){let r=(0,O.useCallbackRef)(e);s.useEffect(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}(e=>{j===m.layers.size-1&&(i?.(e),!e.defaultPrevented&&c&&(e.preventDefault(),c()))},h),s.useEffect(()=>{if(f)return a&&(0===m.layersWithOutsidePointerEventsDisabled.size&&(r=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(f)),m.layers.add(f),I(),()=>{a&&1===m.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=r)}},[f,h,a,m]),s.useEffect(()=>()=>{f&&(m.layers.delete(f),m.layersWithOutsidePointerEventsDisabled.delete(f),I())},[f,m]),s.useEffect(()=>{let e=()=>x({});return document.addEventListener(T,e),()=>document.removeEventListener(T,e)},[]),(0,n.jsx)(L.Primitive.div,{...u,ref:v,style:{pointerEvents:N?w?"auto":"none":void 0,...e.style},onFocusCapture:(0,P.composeEventHandlers)(e.onFocusCapture,E.onFocusCapture),onBlurCapture:(0,P.composeEventHandlers)(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:(0,P.composeEventHandlers)(e.onPointerDownCapture,C.onPointerDownCapture)})});function I(){let e=new CustomEvent(T);document.dispatchEvent(e)}function k(e,t,r,{discrete:n}){let s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?(0,L.dispatchDiscreteCustomEvent)(s,a):s.dispatchEvent(a)}_.displayName="DismissableLayer",s.forwardRef((e,t)=>{let r=s.useContext(A),a=s.useRef(null),i=(0,R.useComposedRefs)(t,a);return s.useEffect(()=>{let e=a.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,n.jsx)(L.Primitive.div,{...e,ref:i})}).displayName="DismissableLayerBranch";var B="focusScope.autoFocusOnMount",H="focusScope.autoFocusOnUnmount",W={bubbles:!1,cancelable:!0},$=s.forwardRef((e,t)=>{let{loop:r=!1,trapped:a=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...l}=e,[d,c]=s.useState(null),u=(0,O.useCallbackRef)(i),m=(0,O.useCallbackRef)(o),f=s.useRef(null),p=(0,R.useComposedRefs)(t,e=>c(e)),h=s.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;s.useEffect(()=>{if(a){let e=function(e){if(h.paused||!d)return;let t=e.target;d.contains(t)?f.current=t:U(f.current,{select:!0})},t=function(e){if(h.paused||!d)return;let t=e.relatedTarget;null!==t&&(d.contains(t)||U(f.current,{select:!0}))};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let r=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&U(d)});return d&&r.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[a,d,h.paused]),s.useEffect(()=>{if(d){Y.add(h);let e=document.activeElement;if(!d.contains(e)){let t=new CustomEvent(B,W);d.addEventListener(B,u),d.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let r=document.activeElement;for(let n of e)if(U(n,{select:t}),document.activeElement!==r)return}(M(d).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&U(d))}return()=>{d.removeEventListener(B,u),setTimeout(()=>{let t=new CustomEvent(H,W);d.addEventListener(H,m),d.dispatchEvent(t),t.defaultPrevented||U(e??document.body,{select:!0}),d.removeEventListener(H,m),Y.remove(h)},0)}}},[d,u,m,h]);let x=s.useCallback(e=>{if(!r&&!a||h.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){var s;let t,a=e.currentTarget,[i,o]=[K(t=M(s=a),s),K(t.reverse(),s)];i&&o?e.shiftKey||n!==o?e.shiftKey&&n===i&&(e.preventDefault(),r&&U(o,{select:!0})):(e.preventDefault(),r&&U(i,{select:!0})):n===a&&e.preventDefault()}},[r,a,h.paused]);return(0,n.jsx)(L.Primitive.div,{tabIndex:-1,...l,ref:p,onKeyDown:x})});function M(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function K(e,t){for(let r of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(r,{upTo:t}))return r}function U(e,{select:t=!1}={}){if(e&&e.focus){var r;let n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&(r=e)instanceof HTMLInputElement&&"select"in r&&t&&e.select()}}$.displayName="FocusScope";var Y=(t=[],{add(e){let r=t[0];e!==r&&r?.pause(),(t=z(t,e)).unshift(e)},remove(e){t=z(t,e),t[0]?.resume()}});function z(e,t){let r=[...e],n=r.indexOf(t);return -1!==n&&r.splice(n,1),r}var V=e.i(30943),q=e.i(76833),X=s.forwardRef((e,t)=>{let{container:r,...a}=e,[i,o]=s.useState(!1);(0,q.useLayoutEffect)(()=>o(!0),[]);let l=r||i&&globalThis?.document?.body;return l?V.default.createPortal((0,n.jsx)(L.Primitive.div,{...a,ref:t}),l):null});X.displayName="Portal";var Z=e.i(93953),G=e.i(8525),J=e.i(65823),Q=e.i(69131),ee=s.forwardRef((e,t)=>{let{children:r,...a}=e,i=s.Children.toArray(r),o=i.find(en);if(o){let e=o.props.children,r=i.map(t=>t!==o?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,n.jsx)(et,{...a,ref:t,children:s.isValidElement(e)?s.cloneElement(e,void 0,r):null})}return(0,n.jsx)(et,{...a,ref:t,children:r})});ee.displayName="Slot";var et=s.forwardRef((e,t)=>{let{children:r,...n}=e;if(s.isValidElement(r)){var a;let e,i,o=(a=r,(i=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(i=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref),l=function(e,t){let r={...t};for(let n in t){let s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...e)=>{a(...e),s(...e)}:s&&(r[n]=s):"style"===n?r[n]={...s,...a}:"className"===n&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==s.Fragment&&(l.ref=t?(0,R.composeRefs)(t,o):o),s.cloneElement(r,l)}return s.Children.count(r)>1?s.Children.only(null):null});et.displayName="SlotClone";var er=({children:e})=>(0,n.jsx)(n.Fragment,{children:e});function en(e){return s.isValidElement(e)&&e.type===er}var es="Dialog",[ea,ei]=(0,D.createContextScope)(es),[eo,el]=ea(es),ed=e=>{let{__scopeDialog:t,children:r,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,d=s.useRef(null),c=s.useRef(null),[u=!1,m]=(0,S.useControllableState)({prop:a,defaultProp:i,onChange:o});return(0,n.jsx)(eo,{scope:t,triggerRef:d,contentRef:c,contentId:(0,F.useId)(),titleId:(0,F.useId)(),descriptionId:(0,F.useId)(),open:u,onOpenChange:m,onOpenToggle:s.useCallback(()=>m(e=>!e),[m]),modal:l,children:r})};ed.displayName=es;var ec="DialogTrigger",eu=s.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,a=el(ec,r),i=(0,R.useComposedRefs)(t,a.triggerRef);return(0,n.jsx)(L.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":eS(a.open),...s,ref:i,onClick:(0,P.composeEventHandlers)(e.onClick,a.onOpenToggle)})});eu.displayName=ec;var em="DialogPortal",[ef,ep]=ea(em,{forceMount:void 0}),eh=e=>{let{__scopeDialog:t,forceMount:r,children:a,container:i}=e,o=el(em,t);return(0,n.jsx)(ef,{scope:t,forceMount:r,children:s.Children.map(a,e=>(0,n.jsx)(Z.Presence,{present:r||o.open,children:(0,n.jsx)(X,{asChild:!0,container:i,children:e})}))})};eh.displayName=em;var ex="DialogOverlay",ev=s.forwardRef((e,t)=>{let r=ep(ex,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=el(ex,e.__scopeDialog);return i.modal?(0,n.jsx)(Z.Presence,{present:s||i.open,children:(0,n.jsx)(eg,{...a,ref:t})}):null});ev.displayName=ex;var eg=s.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,a=el(ex,r);return(0,n.jsx)(J.RemoveScroll,{as:ee,allowPinchZoom:!0,shards:[a.contentRef],children:(0,n.jsx)(L.Primitive.div,{"data-state":eS(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),ey="DialogContent",eb=s.forwardRef((e,t)=>{let r=ep(ey,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=el(ey,e.__scopeDialog);return(0,n.jsx)(Z.Presence,{present:s||i.open,children:i.modal?(0,n.jsx)(ej,{...a,ref:t}):(0,n.jsx)(eN,{...a,ref:t})})});eb.displayName=ey;var ej=s.forwardRef((e,t)=>{let r=el(ey,e.__scopeDialog),a=s.useRef(null),i=(0,R.useComposedRefs)(t,r.contentRef,a);return s.useEffect(()=>{let e=a.current;if(e)return(0,Q.hideOthers)(e)},[]),(0,n.jsx)(ew,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,P.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:(0,P.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,P.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),eN=s.forwardRef((e,t)=>{let r=el(ey,e.__scopeDialog),a=s.useRef(!1),i=s.useRef(!1);return(0,n.jsx)(ew,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||r.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));let n=t.target;r.triggerRef.current?.contains(n)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),ew=s.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,...l}=e,d=el(ey,r),c=s.useRef(null),u=(0,R.useComposedRefs)(t,c);return(0,G.useFocusGuards)(),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)($,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:o,children:(0,n.jsx)(_,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":eS(d.open),...l,ref:u,onDismiss:()=>d.onOpenChange(!1)})}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eA,{titleId:d.titleId}),(0,n.jsx)(e_,{contentRef:c,descriptionId:d.descriptionId})]})]})}),eC="DialogTitle",eE=s.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,a=el(eC,r);return(0,n.jsx)(L.Primitive.h2,{id:a.titleId,...s,ref:t})});eE.displayName=eC;var eD="DialogDescription",eR=s.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,a=el(eD,r);return(0,n.jsx)(L.Primitive.p,{id:a.descriptionId,...s,ref:t})});eR.displayName=eD;var eP="DialogClose",eF=s.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,a=el(eP,r);return(0,n.jsx)(L.Primitive.button,{type:"button",...s,ref:t,onClick:(0,P.composeEventHandlers)(e.onClick,()=>a.onOpenChange(!1))})});function eS(e){return e?"open":"closed"}eF.displayName=eP;var eL="DialogTitleWarning",[eO,eT]=(0,D.createContext)(eL,{contentName:ey,titleName:eC,docsSlug:"dialog"}),eA=({titleId:e})=>{let t=eT(eL),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return s.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},e_=({contentRef:e,descriptionId:t})=>{let r=eT("DialogDescriptionWarning"),n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return s.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},eI="AlertDialog",[ek,eB]=(0,D.createContextScope)(eI,[ei]),eH=ei(),eW=e=>{let{__scopeAlertDialog:t,...r}=e,s=eH(t);return(0,n.jsx)(ed,{...s,...r,modal:!0})};eW.displayName=eI;var e$=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,a=eH(r);return(0,n.jsx)(eu,{...a,...s,ref:t})});e$.displayName="AlertDialogTrigger";var eM=e=>{let{__scopeAlertDialog:t,...r}=e,s=eH(t);return(0,n.jsx)(eh,{...s,...r})};eM.displayName="AlertDialogPortal";var eK=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,a=eH(r);return(0,n.jsx)(ev,{...a,...s,ref:t})});eK.displayName="AlertDialogOverlay";var eU="AlertDialogContent",[eY,ez]=ek(eU),eV=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,children:a,...i}=e,o=eH(r),l=s.useRef(null),d=(0,R.useComposedRefs)(t,l),c=s.useRef(null);return(0,n.jsx)(eO,{contentName:eU,titleName:eq,docsSlug:"alert-dialog",children:(0,n.jsx)(eY,{scope:r,cancelRef:c,children:(0,n.jsxs)(eb,{role:"alertdialog",...o,...i,ref:d,onOpenAutoFocus:(0,P.composeEventHandlers)(i.onOpenAutoFocus,e=>{e.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,n.jsx)(er,{children:a}),(0,n.jsx)(e1,{contentRef:l})]})})})});eV.displayName=eU;var eq="AlertDialogTitle",eX=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,a=eH(r);return(0,n.jsx)(eE,{...a,...s,ref:t})});eX.displayName=eq;var eZ="AlertDialogDescription",eG=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,a=eH(r);return(0,n.jsx)(eR,{...a,...s,ref:t})});eG.displayName=eZ;var eJ=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,a=eH(r);return(0,n.jsx)(eF,{...a,...s,ref:t})});eJ.displayName="AlertDialogAction";var eQ="AlertDialogCancel",e0=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,{cancelRef:a}=ez(eQ,r),i=eH(r),o=(0,R.useComposedRefs)(t,a);return(0,n.jsx)(eF,{...i,...s,ref:o})});e0.displayName=eQ;var e1=({contentRef:e})=>{let t=`\`${eU}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${eU}\` by passing a \`${eZ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${eU}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return s.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},e5=e.i(86547);let e3=s.forwardRef(({className:e,...t},r)=>(0,n.jsx)(eK,{className:(0,e5.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));e3.displayName=eK.displayName;let e2=s.forwardRef(({className:e,...t},r)=>(0,n.jsxs)(eM,{children:[(0,n.jsx)(e3,{}),(0,n.jsx)(eV,{ref:r,className:(0,e5.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));e2.displayName=eV.displayName;let e4=({className:e,...t})=>(0,n.jsx)("div",{className:(0,e5.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});e4.displayName="AlertDialogHeader";let e6=({className:e,...t})=>(0,n.jsx)("div",{className:(0,e5.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});e6.displayName="AlertDialogFooter";let e8=s.forwardRef(({className:e,...t},r)=>(0,n.jsx)(eX,{ref:r,className:(0,e5.cn)("text-lg font-semibold",e),...t}));e8.displayName=eX.displayName;let e7=s.forwardRef(({className:e,...t},r)=>(0,n.jsx)(eG,{ref:r,className:(0,e5.cn)("text-sm text-muted-foreground",e),...t}));e7.displayName=eG.displayName;let e9=s.forwardRef(({className:e,...t},r)=>(0,n.jsx)(eJ,{ref:r,className:(0,e5.cn)((0,i.buttonVariants)(),e),...t}));e9.displayName=eJ.displayName;let te=s.forwardRef(({className:e,...t},r)=>(0,n.jsx)(e0,{ref:r,className:(0,e5.cn)((0,i.buttonVariants)({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));function tt(){let{profile:e,updateProfile:t}=(0,a.useAuth)(),r=(0,C.useRouter)(),[j,N]=(0,s.useState)(""),[w,D]=(0,s.useState)(""),[R,P]=(0,s.useState)(""),[F,S]=(0,s.useState)(!1),[L,O]=(0,s.useState)([]),[T,A]=(0,s.useState)(!0),[_,I]=(0,s.useState)(!1),[k,B]=(0,s.useState)("donation"),{toast:H}=(0,u.useToast)();(0,s.useEffect)(()=>{let e=new URLSearchParams(window.location.search),t=e.get("upgrade"),n=e.get("donation");"success"===t?(B("subscription"),I(!0),r.replace(r.pathname,void 0,{shallow:!0})):"success"===n?(B("donation"),I(!0),r.replace(r.pathname,void 0,{shallow:!0})):("canceled"===t||"canceled"===n)&&(H({title:"Payment Canceled",description:"Your payment was canceled. No charges were made.",variant:"destructive"}),r.replace(r.pathname,void 0,{shallow:!0}))},[r,H]),(0,s.useEffect)(()=>{e&&(N(e.full_name||""),D(e.phone||""),P(e.address||""),W())},[e]);let W=async()=>{try{let{data:t,error:r}=await b.supabase.from("donations").select("*").eq("user_id",e?.id).eq("status","completed").order("created_at",{ascending:!1}).limit(10);if(r)throw r;O(t||[])}catch(e){console.error("Error fetching donations:",e)}finally{A(!1)}},$=L.reduce((e,t)=>e+Number(t.amount),0),M=L.filter(e=>e.is_recurring&&"active"===e.subscription_status).reduce((e,t)=>(e.find(e=>e.stripe_subscription_id===t.stripe_subscription_id)||e.push(t),e),[]),K=async e=>{try{let{error:t}=await b.supabase.functions.invoke("cancel-subscription",{body:{subscriptionId:e}});if(t)throw t;H({title:"Subscription Canceled",description:"Your recurring donation has been canceled."}),W()}catch(e){H({title:"Error",description:e.message,variant:"destructive"})}},U=async e=>{e.preventDefault(),S(!0);try{await t({full_name:j,phone:w,address:R}),H({title:"Success!",description:"Your profile has been updated."})}catch(e){H({title:"Error",description:e.message,variant:"destructive"})}finally{S(!1)}};return(0,n.jsxs)("div",{className:"min-h-screen flex flex-col",children:[_&&(0,n.jsx)(E,{type:k,onClose:()=>I(!1)}),(0,n.jsx)(m.default,{}),(0,n.jsx)("main",{className:"flex-1 container mx-auto px-4 py-12",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,n.jsxs)(d.Card,{children:[(0,n.jsxs)(d.CardHeader,{children:[(0,n.jsx)(d.CardTitle,{children:"Account Overview"}),(0,n.jsx)(d.CardDescription,{children:"Your ReFURRM membership details"})]}),(0,n.jsxs)(d.CardContent,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{className:"text-sm text-gray-600",children:"Role"}),(0,n.jsx)("div",{className:"mt-1",children:(e=>{switch(e){case"ambassador":return(0,n.jsxs)(c.Badge,{className:"bg-gradient-to-r from-[#315E47] to-[#50E3E3] text-white",children:[(0,n.jsx)(p.Crown,{className:"w-3 h-3 mr-1"}),"Ambassador"]});case"admin":return(0,n.jsxs)(c.Badge,{className:"bg-red-600",children:[(0,n.jsx)(p.Crown,{className:"w-3 h-3 mr-1"}),"Admin"]});case"buyer":return(0,n.jsxs)(c.Badge,{className:"bg-blue-600",children:[(0,n.jsx)(h.Zap,{className:"w-3 h-3 mr-1"}),"Buyer"]});case"volunteer":return(0,n.jsxs)(c.Badge,{className:"bg-green-600",children:[(0,n.jsx)(x.Users,{className:"w-3 h-3 mr-1"}),"Volunteer"]});case"family":return(0,n.jsxs)(c.Badge,{className:"bg-primary-600",children:[(0,n.jsx)(x.Users,{className:"w-3 h-3 mr-1"}),"Family"]});default:return(0,n.jsx)(c.Badge,{children:e})}})(e?.role||"")})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{className:"text-sm text-gray-600",children:"Subscription Plan"}),(0,n.jsx)("div",{className:"mt-1",children:"pro"===e?.subscription_tier?(0,n.jsx)(c.Badge,{className:"bg-[#50E3E3] text-white",children:"Pro - $29/month"}):(0,n.jsx)(c.Badge,{variant:"outline",children:"Community - Free"})})]})]}),e?.role==="ambassador"&&(0,n.jsx)("div",{className:"p-4 bg-gradient-to-r from-emerald-50 to-teal-50 rounded-lg border border-emerald-200",children:(0,n.jsxs)("p",{className:"text-sm text-emerald-800",children:[(0,n.jsx)(p.Crown,{className:"w-4 h-4 inline mr-1"}),"You are an approved Ambassador with access to leadership tools and rescue coordination features."]})})]})]}),(0,n.jsxs)(d.Card,{children:[(0,n.jsxs)(d.CardHeader,{children:[(0,n.jsx)(d.CardTitle,{children:"Profile Settings"}),(0,n.jsx)(d.CardDescription,{children:"Manage your personal information"})]}),(0,n.jsx)(d.CardContent,{children:(0,n.jsxs)("form",{onSubmit:U,className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(l.Label,{htmlFor:"email",children:"Email"}),(0,n.jsx)(o.Input,{id:"email",value:e?.email||"",disabled:!0})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(l.Label,{htmlFor:"fullName",children:"Full Name"}),(0,n.jsx)(o.Input,{id:"fullName",value:j,onChange:e=>N(e.target.value)})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(l.Label,{htmlFor:"phone",children:"Phone"}),(0,n.jsx)(o.Input,{id:"phone",type:"tel",value:w,onChange:e=>D(e.target.value)})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(l.Label,{htmlFor:"address",children:"Address"}),(0,n.jsx)(o.Input,{id:"address",value:R,onChange:e=>P(e.target.value)})]}),(0,n.jsx)(i.Button,{type:"submit",disabled:F,children:F?"Saving...":"Save Changes"})]})})]}),M.length>0&&(0,n.jsxs)(d.Card,{children:[(0,n.jsxs)(d.CardHeader,{children:[(0,n.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,n.jsx)(g.Calendar,{className:"w-5 h-5 text-blue-500"}),"Recurring Donations"]}),(0,n.jsx)(d.CardDescription,{children:"Manage your automatic monthly or annual donations"})]}),(0,n.jsx)(d.CardContent,{children:(0,n.jsx)("div",{className:"space-y-4",children:M.map(e=>(0,n.jsxs)("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-blue-50 to-primary-50 rounded-lg border border-blue-200",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{className:"font-bold text-lg text-[#315E47]",children:["$",Number(e.amount).toFixed(2)," / ","monthly"===e.frequency?"month":"year"]}),(0,n.jsxs)("p",{className:"text-sm text-gray-600",children:["Started ",new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),(0,n.jsx)(c.Badge,{className:"mt-2 bg-green-100 text-green-700 border-green-300",children:"Active"})]}),(0,n.jsxs)(eW,{children:[(0,n.jsx)(e$,{asChild:!0,children:(0,n.jsxs)(i.Button,{variant:"outline",size:"sm",className:"text-red-600 border-red-300 hover:bg-red-50",children:[(0,n.jsx)(y.X,{className:"w-4 h-4 mr-1"}),"Cancel"]})}),(0,n.jsxs)(e2,{children:[(0,n.jsxs)(e4,{children:[(0,n.jsx)(e8,{children:"Cancel Recurring Donation?"}),(0,n.jsxs)(e7,{children:["Are you sure you want to cancel this $",Number(e.amount).toFixed(2)," ",e.frequency," donation? You can always set up a new recurring donation later."]})]}),(0,n.jsxs)(e6,{children:[(0,n.jsx)(te,{children:"Keep Donation"}),(0,n.jsx)(e9,{onClick:()=>K(e.stripe_subscription_id),className:"bg-red-600 hover:bg-red-700",children:"Cancel Donation"})]})]})]})]},e.id))})})]}),(0,n.jsxs)(d.Card,{children:[(0,n.jsxs)(d.CardHeader,{children:[(0,n.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,n.jsx)(v.Heart,{className:"w-5 h-5 text-red-500"}),"Your Donation History"]}),(0,n.jsxs)(d.CardDescription,{children:["Total donated: $",$.toFixed(2)]})]}),(0,n.jsx)(d.CardContent,{children:T?(0,n.jsx)("p",{className:"text-gray-500",children:"Loading donations..."}):0===L.length?(0,n.jsx)("p",{className:"text-gray-500",children:"No donations yet. Thank you for considering supporting our mission!"}):(0,n.jsx)("div",{className:"space-y-3",children:L.map(e=>(0,n.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{className:"font-semibold text-[#315E47]",children:["$",Number(e.amount).toFixed(2)]}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),(0,n.jsx)(c.Badge,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Completed"})]},e.id))})})]})]})}),(0,n.jsx)(f.default,{})]})}te.displayName=e0.displayName,e.s(["default",()=>tt],64627)},39537,(e,t,r)=>{let n="/Profile";(window.__NEXT_P=window.__NEXT_P||[]).push([n,()=>e.r(64627)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([n])})}]);