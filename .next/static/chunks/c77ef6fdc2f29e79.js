(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,30713,18758,e=>{"use strict";var t=e.i(42691),r=e.i(96181),a=e.i(90530);let s=r.forwardRef(({className:e,type:r,...s},n)=>(0,t.jsx)("input",{type:r,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...s}));s.displayName="Input",e.s(["Input",()=>s],18758),e.s([],30713)},90057,e=>{"use strict";var t=e.i(96181),r=e.i(40672),a=e.i(42691),s=t.forwardRef((e,t)=>(0,a.jsx)(r.Primitive.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));s.displayName="VisuallyHidden",e.s(["Root",()=>s,"VisuallyHidden",()=>s])},39916,e=>{"use strict";var t=e.i(42691),r=e.i(96181);let a=(0,r.createContext)({sidebarOpen:!1,toggleSidebar:()=>{},currentUser:null,setCurrentUser:()=>{}});e.s(["AppProvider",0,({children:e})=>{let[s,n]=(0,r.useState)(!1),[i,o]=(0,r.useState)({id:"1",name:"Demo User",email:"demo@refurrm.org",role:"buyer",subscription:"free"});return(0,t.jsx)(a.Provider,{value:{sidebarOpen:s,toggleSidebar:()=>{n(e=>!e)},currentUser:i,setCurrentUser:o},children:e})},"useAppContext",0,()=>(0,r.useContext)(a)])},96344,e=>{"use strict";let t=(0,e.i(18405).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],96344)},22485,e=>{"use strict";let t=(0,e.i(18405).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],22485)},90167,18496,e=>{"use strict";var t=e.i(42691),r=e.i(88120),a=e.i(90530);let s=(0,r.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:r,...n}){return(0,t.jsx)("div",{className:(0,a.cn)(s({variant:r}),e),...n})}e.s(["Badge",()=>n],18496),e.s([],90167)},91103,e=>{"use strict";let t=(0,e.i(18405).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],91103)},61437,e=>{"use strict";var t=e.i(96181),r=e.i(73628),a=e.i(27361),s=e=>{var s;let i,o,{present:l,children:c}=e,d=function(e){var r,s;let[i,o]=t.useState(),l=t.useRef({}),c=t.useRef(e),d=t.useRef("none"),[u,m]=(r=e?"mounted":"unmounted",s={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},t.useReducer((e,t)=>s[e][t]??e,r));return t.useEffect(()=>{let e=n(l.current);d.current="mounted"===u?e:"none"},[u]),(0,a.useLayoutEffect)(()=>{let t=l.current,r=c.current;if(r!==e){let a=d.current,s=n(t);e?m("MOUNT"):"none"===s||t?.display==="none"?m("UNMOUNT"):r&&a!==s?m("ANIMATION_OUT"):m("UNMOUNT"),c.current=e}},[e,m]),(0,a.useLayoutEffect)(()=>{if(i){let e,t=i.ownerDocument.defaultView??window,r=r=>{let a=n(l.current).includes(r.animationName);if(r.target===i&&a&&(m("ANIMATION_END"),!c.current)){let r=i.style.animationFillMode;i.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===i.style.animationFillMode&&(i.style.animationFillMode=r)})}},a=e=>{e.target===i&&(d.current=n(l.current))};return i.addEventListener("animationstart",a),i.addEventListener("animationcancel",r),i.addEventListener("animationend",r),()=>{t.clearTimeout(e),i.removeEventListener("animationstart",a),i.removeEventListener("animationcancel",r),i.removeEventListener("animationend",r)}}m("ANIMATION_END")},[i,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:t.useCallback(e=>{e&&(l.current=getComputedStyle(e)),o(e)},[])}}(l),u="function"==typeof c?c({present:d.isPresent}):t.Children.only(c),m=(0,r.useComposedRefs)(d.ref,(s=u,(o=(i=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in i&&i.isReactWarning)?s.ref:(o=(i=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in i&&i.isReactWarning)?s.props.ref:s.props.ref||s.ref));return"function"==typeof c||d.isPresent?t.cloneElement(u,{ref:m}):null};function n(e){return e?.animationName||"none"}s.displayName="Presence",e.s(["Presence",()=>s])},83033,e=>{"use strict";var t=e.i(96181),r=e.i(22389),a=e.i(64013),s=e.i(73628),n=e.i(21064),i=e.i(83023),o=e.i(40672),l=e.i(57404),c=e.i(25807),d=e.i(2843),u=e.i(42691),m="rovingFocusGroup.onEntryFocus",f={bubbles:!1,cancelable:!0},p="RovingFocusGroup",[x,h,v]=(0,a.createCollection)(p),[g,y]=(0,n.createContextScope)(p,[v]),[b,w]=g(p),j=t.forwardRef((e,t)=>(0,u.jsx)(x.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,u.jsx)(x.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,u.jsx)(N,{...e,ref:t})})}));j.displayName=p;var N=t.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:n,orientation:i,loop:p=!1,dir:x,currentTabStopId:v,defaultCurrentTabStopId:g,onCurrentTabStopIdChange:y,onEntryFocus:w,preventScrollOnEntryFocus:j=!1,...N}=e,E=t.useRef(null),k=(0,s.useComposedRefs)(a,E),S=(0,d.useDirection)(x),[C=null,R]=(0,c.useControllableState)({prop:v,defaultProp:g,onChange:y}),[T,I]=t.useState(!1),M=(0,l.useCallbackRef)(w),A=h(n),F=t.useRef(!1),[P,L]=t.useState(0);return t.useEffect(()=>{let e=E.current;if(e)return e.addEventListener(m,M),()=>e.removeEventListener(m,M)},[M]),(0,u.jsx)(b,{scope:n,orientation:i,dir:S,loop:p,currentTabStopId:C,onItemFocus:t.useCallback(e=>R(e),[R]),onItemShiftTab:t.useCallback(()=>I(!0),[]),onFocusableItemAdd:t.useCallback(()=>L(e=>e+1),[]),onFocusableItemRemove:t.useCallback(()=>L(e=>e-1),[]),children:(0,u.jsx)(o.Primitive.div,{tabIndex:T||0===P?-1:0,"data-orientation":i,...N,ref:k,style:{outline:"none",...e.style},onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,()=>{F.current=!0}),onFocus:(0,r.composeEventHandlers)(e.onFocus,e=>{let t=!F.current;if(e.target===e.currentTarget&&t&&!T){let t=new CustomEvent(m,f);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=A().filter(e=>e.focusable);_([e.find(e=>e.active),e.find(e=>e.id===C),...e].filter(Boolean).map(e=>e.ref.current),j)}}F.current=!1}),onBlur:(0,r.composeEventHandlers)(e.onBlur,()=>I(!1))})})}),E="RovingFocusGroupItem",k=t.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:s,focusable:n=!0,active:l=!1,tabStopId:c,...d}=e,m=(0,i.useId)(),f=c||m,p=w(E,s),v=p.currentTabStopId===f,g=h(s),{onFocusableItemAdd:y,onFocusableItemRemove:b}=p;return t.useEffect(()=>{if(n)return y(),()=>b()},[n,y,b]),(0,u.jsx)(x.ItemSlot,{scope:s,id:f,focusable:n,active:l,children:(0,u.jsx)(o.Primitive.span,{tabIndex:v?0:-1,"data-orientation":p.orientation,...d,ref:a,onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,e=>{n?p.onItemFocus(f):e.preventDefault()}),onFocus:(0,r.composeEventHandlers)(e.onFocus,()=>p.onItemFocus(f)),onKeyDown:(0,r.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void p.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var a;let s=(a=e.key,"rtl"!==r?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(s))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(s)))return S[s]}(e,p.orientation,p.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=g().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){var r,a;"prev"===t&&s.reverse();let n=s.indexOf(e.currentTarget);s=p.loop?(r=s,a=n+1,r.map((e,t)=>r[(a+t)%r.length])):s.slice(n+1)}setTimeout(()=>_(s))}})})})});k.displayName=E;var S={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _(e,t=!1){let r=document.activeElement;for(let a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}e.s(["Item",()=>k,"Root",()=>j,"createRovingFocusGroupScope",()=>y])},99999,e=>{"use strict";let t=(0,e.i(18405).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>t],99999)},69379,89605,e=>{"use strict";var t=e.i(18405);let r=(0,t.default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>r],69379);let a=(0,t.default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>a],89605)},18791,e=>{"use strict";var t=e.i(42691),r=e.i(96181);e.i(94720);var a=e.i(51341);e.i(23055);var s=e.i(81148);e.i(90167);var n=e.i(18496);e.i(30713);var i=e.i(18758);e.i(31588);var o=e.i(30233),l=e.i(18405);let c=(0,l.default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var d=e.i(22485),u=e.i(96344),m=e.i(99999),f=e.i(69379),p=e.i(89605);let x=(0,l.default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var h=e.i(39916),v=e.i(63375),g=e.i(47206),y=e.i(1310);e.s(["default",0,()=>{let{currentUser:e}=(0,h.useAppContext)(),[l,b]=(0,r.useState)([]),[w,j]=(0,r.useState)(!1),[N,E]=(0,r.useState)(""),[k,S]=(0,r.useState)("all"),[_,C]=(0,r.useState)(null),R=e?.subscription==="pro",T=async()=>{j(!0);try{let{data:e,error:t}=await v.supabase.from("auction_listings").select("*").order("market_potential_score",{ascending:!1,nullsFirst:!1});if(t)throw t;b(e||[])}catch(e){console.error("Error loading listings:",e)}finally{j(!1)}};(0,r.useEffect)(()=>{T()},[]);let I=l.filter(e=>(!N||!!e.facility_location?.toLowerCase().includes(N.toLowerCase()))&&("high"!==k||!(70>(e.market_potential_score||0)))&&("medium"!==k||!(40>(e.market_potential_score||0))&&!((e.market_potential_score||0)>=70))&&("low"!==k||!((e.market_potential_score||0)>=40)));return(0,t.jsxs)("div",{className:"min-h-screen bg-[#F6F4EE]",children:[(0,t.jsx)(g.default,{}),(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8 mt-16",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-[#1C2E25] mb-4",children:"ReFURRM Scanner"}),(0,t.jsx)("p",{className:"text-lg text-[#315E47]",children:"AI-powered auction analysis to maximize rescue potential"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 italic mt-2 max-w-3xl mx-auto",children:"ReFURRM Scanner analyzes publicly available storage auction listings to assess resale potential. The tool does not access private data, interfere with sales, or identify individuals."}),!R&&(0,t.jsx)(n.Badge,{className:"mt-4 bg-[#50E3E3] text-white",children:"Pro Feature - Upgrade to Access"})]}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(i.Input,{placeholder:"Search by location...",value:N,onChange:e=>E(e.target.value),className:"w-full",icon:(0,t.jsx)(c,{className:"w-4 h-4"})})}),(0,t.jsxs)(o.Select,{value:k,onValueChange:S,children:[(0,t.jsx)(o.SelectTrigger,{className:"w-full md:w-48",children:(0,t.jsx)(o.SelectValue,{placeholder:"Filter by score"})}),(0,t.jsxs)(o.SelectContent,{children:[(0,t.jsx)(o.SelectItem,{value:"all",children:"All Scores"}),(0,t.jsx)(o.SelectItem,{value:"high",children:"High (70-100)"}),(0,t.jsx)(o.SelectItem,{value:"medium",children:"Medium (40-69)"}),(0,t.jsx)(o.SelectItem,{value:"low",children:"Low (0-39)"})]})]})]}),w?(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)(p.Loader2,{className:"w-8 h-8 animate-spin mx-auto text-[#315E47]"})}):(0,t.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(e=>(0,t.jsxs)(a.Card,{className:R?"":"opacity-50 blur-sm",children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsx)(a.CardTitle,{className:"text-lg",children:e.facility_name}),e.market_potential_score&&(0,t.jsx)(n.Badge,{className:e.market_potential_score>=70?"bg-green-500":e.market_potential_score>=40?"bg-yellow-500":"bg-gray-500",children:e.market_potential_score})]})}),(0,t.jsxs)(a.CardContent,{children:[(0,t.jsx)("img",{src:e.thumbnail_url,alt:"Unit",className:"w-full h-48 object-cover rounded mb-4"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.MapPin,{className:"w-4 h-4 text-[#315E47]"}),(0,t.jsx)("span",{children:e.facility_location})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.Calendar,{className:"w-4 h-4 text-[#315E47]"}),(0,t.jsx)("span",{children:new Date(e.auction_date).toLocaleDateString()})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.DollarSign,{className:"w-4 h-4 text-[#315E47]"}),(0,t.jsxs)("span",{children:["Current Bid: $",e.current_bid]})]})]}),e.ai_summary&&(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-3",children:e.ai_summary}),(0,t.jsx)(s.Button,{className:"w-full mt-4",disabled:!R,children:R?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x,{className:"w-4 h-4 mr-2"}),"View Details"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.Lock,{className:"w-4 h-4 mr-2"}),"Locked"]})})]})]},e.id))}),!R&&(0,t.jsx)(a.Card,{className:"mt-8 border-[#50E3E3]",children:(0,t.jsxs)(a.CardContent,{className:"text-center py-8",children:[(0,t.jsx)(f.Lock,{className:"w-12 h-12 mx-auto text-[#50E3E3] mb-4"}),(0,t.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"Upgrade to Pro"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Access AI-powered auction analysis and maximize your rescue potential"}),(0,t.jsx)(s.Button,{size:"lg",className:"bg-[#50E3E3] hover:bg-[#315E47]",children:"Upgrade Now"})]})})]}),(0,t.jsx)(y.default,{})]})}],18791)},30060,(e,t,r)=>{let a="/Scanner";(window.__NEXT_P=window.__NEXT_P||[]).push([a,()=>e.r(18791)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([a])})},99565,e=>{e.v(t=>Promise.all(["static/chunks/07a6a6fd80f82fb7.js"].map(t=>e.l(t))).then(()=>t(75546)))},71371,e=>{e.v(t=>Promise.all(["static/chunks/592406644c3f411c.js"].map(t=>e.l(t))).then(()=>t(7841)))}]);